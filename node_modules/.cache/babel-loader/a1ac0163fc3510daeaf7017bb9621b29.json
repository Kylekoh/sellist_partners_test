{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  .MuiSnackbarContent-message {\\n    color: #fff;\\n  }\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  display: \",\";\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.65);\\n  z-index: 100;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  margin-left: 20px;\\n  margin-top: 20px;\\n  font-size: 14px;\\n  cursor: pointer;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  margin-top: 25.4%;\\n  height: 48px;\\n  border-radius: 4px;\\n  font-weight: bold;\\n  font-size: 14px;\\n  text-align: center;\\n  letter-spacing: 0.08em;\\n  color: #ffffff;\\n  cursor: \",\";\\n  background: \",\";\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 10%;\\n  display: flex;\\n  flex-direction: column;\\n  padding-right: 16px;\\n  padding-left: 16px;\\n\\n  .emailBox {\\n    width: 100%;\\n    position: relative;\\n\\n    input {\\n      padding: 13px;\\n      width: 100%;\\n      height: 56px;\\n      background: white;\\n      font-size: 16px;\\n    }\\n    .errorForEmail {\\n      \",\"\\n      \",\"\\n    }\\n    .typingEmail {\\n      \",\"\\n    }\\n    .closeIcon {\\n      left: 88%;\\n      top: 5%;\\n      position: absolute;\\n    }\\n  }\\n  .pwBox {\\n    width: 100%;\\n    height: 56px;\\n    position: relative;\\n\\n    input {\\n      padding: 13px;\\n      width: 100%;\\n      height: 56px;\\n      background: white;\\n      font-size: 16px;\\n    }\\n    .errorForPw {\\n      \",\"\\n    }\\n    .typingPw {\\n      \",\"\\n    }\\n\\n    .eyeIcon {\\n      left: 88%;\\n      top: 6%;\\n      position: absolute;\\n    }\\n  }\\n  .logInPassword {\\n    \",\"\\n    \",\"\\n    \",\"\\n\\n    \",\"\\n    \",\"\\n  }\\n\\n  .emailError,\\n  .passwordError {\\n    font-size: 13px;\\n    color: #e64a19;\\n    left: 2%;\\n  }\\n  .loading {\\n    position: absolute;\\n    left: 160px;\\n    bottom: -10px;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import{Snackbar}from\"@material-ui/core\";import{SnackbarContent}from\"@material-ui/core\";import{logInApi,TOKEN}from\"../../Config/urls\";import{footerBox}from\"../../Config/commonStyles\";import Loading from\"../../../src/Components/Loading\";import styled from\"styled-components\";import Close from\"../../Images/Close\";import Visiblility from\"../../Images/Visibility\";import VisibilityOff from\"../../Images/VisibilityOff\";function LogIn(props){var propsFromHome=props.props;var _useState=useState({logInEmail:\"\",logInPassword:\"\"}),_useState2=_slicedToArray(_useState,2),loginstate=_useState2[0],setLogInState=_useState2[1];var logInEmail=loginstate.logInEmail,logInPassword=loginstate.logInPassword;var isLoginBtnActive=!(logInEmail.length>0&&logInPassword.length>0);var emailFilled=logInEmail.length>0;var pwFilled=logInPassword.length>0;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error1=_useState4[0],setError1=_useState4[1];//올바른 이메일이 아닙니다.\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error2=_useState6[0],setError2=_useState6[1];//계정존재 XX\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error3=_useState8[0],setError3=_useState8[1];//비밀번호 일치 X\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),pwvisibility=_useState10[0],setPwVisibility=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),userName=_useState14[0],setUserName=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),loading=_useState16[0],setLoading=_useState16[1];//Loading spinner\nvar regEmail=/^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;function inputLogin(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setLogInState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});if(value===\"\"){setError1(false);setError2(false);setError3(false);}}function btnLogin(){var logInEmail=loginstate.logInEmail,logInPassword=loginstate.logInPassword;var formData=new FormData();formData.append(\"email\",logInEmail);formData.append(\"password\",logInPassword);if(!regEmail.test(logInEmail)){setError1(true);}else{setLoading(true);console.log(\"ee\",loading);fetch(logInApi,{method:\"POST\",headers:{Authorization:TOKEN},body:formData}).then(function(res){return res.json();}).then(function(res){return res;}).then(function(res){if(res.success===1){// 로그인성공;\nsetLoading(false);localStorage.setItem(\"access_token\",res.data.access_token);localStorage.setItem(\"email\",res.data.email);localStorage.setItem(\"new_user\",res.data.new_user);setUserName(res.data.name);res.data.access_token?setOpen(true)(window.location.href=\"/CreateEvent\"):alert(\"로그인 실패!\");}else if(res.error.type===3){setLoading(false);setError2(true);//계정존재 XX\n}else if(res.error.type===4){setLoading(false);setError3(true);//비밀번호 일치 X\n}});}}function closeIcon(param){if(param===\"email\"){setLogInState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{logInEmail:\"\"});});setError1(false);setError2(false);}}function eyeIcon(){setPwVisibility(!pwvisibility);}var checkEnter=function checkEnter(e){if(e.keyCode===13){btnLogin();}};return/*#__PURE__*/React.createElement(LoginInputBox,{error1:error1,error2:error2,error3:error3,emailFilled:emailFilled,pwFilled:pwFilled,onKeyDown:function onKeyDown(e){return checkEnter(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"emailBox logInEmail \"},/*#__PURE__*/React.createElement(\"input\",{value:loginstate.logInEmail,placeholder:\"\\uC774\\uBA54\\uC77C\",className:\"correctEmail errorForEmail typingEmail\",name:\"logInEmail\",onChange:inputLogin}),error1&&/*#__PURE__*/React.createElement(\"div\",{className:\"closeIcon\",onClick:function onClick(){return closeIcon(\"email\");}},/*#__PURE__*/React.createElement(Close,null)),error2&&/*#__PURE__*/React.createElement(\"div\",{className:\"closeIcon\",onClick:function onClick(){return closeIcon(\"email\");}},/*#__PURE__*/React.createElement(Close,null))),error1&&/*#__PURE__*/React.createElement(\"div\",{className:\"emailError\"},\"\\uC62C\\uBC14\\uB978 \\uC774\\uBA54\\uC77C\\uC774 \\uC544\\uB2D9\\uB2C8\\uB2E4.\"),error2&&/*#__PURE__*/React.createElement(\"div\",{className:\"emailError\"},\"\\uC874\\uC7AC\\uD558\\uC9C0 \\uC54A\\uB294 \\uACC4\\uC815 \\uC785\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pwBox logInPassword \"},/*#__PURE__*/React.createElement(\"input\",{value:loginstate.logInPassword,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",className:\"typingPw errorForPw\",name:\"logInPassword\",onChange:inputLogin,type:pwvisibility?\"text\":\"password\"}),pwFilled&&pwvisibility&&/*#__PURE__*/React.createElement(\"div\",{className:\"eyeIcon\",onClick:eyeIcon},/*#__PURE__*/React.createElement(Visiblility,null)),pwFilled&&!pwvisibility&&/*#__PURE__*/React.createElement(\"div\",{className:\"eyeIcon\",onClick:eyeIcon},/*#__PURE__*/React.createElement(VisibilityOff,null))),error3&&/*#__PURE__*/React.createElement(\"div\",{className:\"passwordError\"},\"\\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(ForgetPw,{onClick:function onClick(){return propsFromHome.history.push(\"/ForgotPasswordPage\");}},\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC73C\\uC168\\uB098\\uC694?\"),/*#__PURE__*/React.createElement(FooterBox,null,/*#__PURE__*/React.createElement(LoginButton,{button:isLoginBtnActive,onClick:btnLogin,disabled:isLoginBtnActive},\"\\uB85C\\uADF8\\uC778\",/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"},loading?/*#__PURE__*/React.createElement(Loading,null):\"\")),/*#__PURE__*/React.createElement(SnackbarWrapper,{open:open},/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},open:open,autoHideDuration:3000},/*#__PURE__*/React.createElement(PopupContent,{message:\"\".concat(userName,\" \\uB2D8, \\uB85C\\uADF8\\uC778\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4!\"),style:{background:\"#757575\"}})))));}export default LogIn;var LoginInputBox=styled.div(_templateObject(),function(_ref){var error1=_ref.error1;return error1&&\"border-bottom: 1px solid red\";},function(_ref2){var error2=_ref2.error2;return error2&&\"border-bottom: 1px solid red\";},function(_ref3){var emailFilled=_ref3.emailFilled,error1=_ref3.error1,error2=_ref3.error2;return emailFilled&&!error1&&!error2&&\"border-bottom: 1px solid #757575\";},function(_ref4){var error3=_ref4.error3;return error3&&\"border-bottom: 1px solid red\";},function(_ref5){var pwFilled=_ref5.pwFilled,error3=_ref5.error3;return pwFilled&&!error3&&\"border-bottom: 1px solid #757575\";},function(_ref6){var error1=_ref6.error1,error2=_ref6.error2;return!error1&&!error2&&\"margin-top: 5%;\";},function(_ref7){var error1=_ref7.error1,emailFilled=_ref7.emailFilled;return error1&&emailFilled&&\"margin-top: 0.5%;\";},function(_ref8){var error2=_ref8.error2,emailFilled=_ref8.emailFilled;return error2&&emailFilled&&\"margin-top: 0.5%;\";},function(_ref9){var error3=_ref9.error3;return!error3&&\"margin-bottom: 5%;\";},function(_ref10){var error3=_ref10.error3,pwFilled=_ref10.pwFilled;return error3&&pwFilled&&\"margin-bottom: 0.5%;\";});var FooterBox=footerBox;var LoginButton=styled.button(_templateObject2(),function(_ref11){var button=_ref11.button;return button?\"cursor\":\"pointer\";},function(_ref12){var button=_ref12.button;return button?\"#BDBDBD\":\"#212121\";});var ForgetPw=styled.div(_templateObject3());var SnackbarWrapper=styled.div(_templateObject4(),function(_ref13){var open=_ref13.open;return open?\"block\":\"none\";});var PopupContent=styled(SnackbarContent)(_templateObject5());","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/src/Components/homeComponents/LogIn.js"],"names":["React","useState","Snackbar","SnackbarContent","logInApi","TOKEN","footerBox","Loading","styled","Close","Visiblility","VisibilityOff","LogIn","props","propsFromHome","logInEmail","logInPassword","loginstate","setLogInState","isLoginBtnActive","length","emailFilled","pwFilled","error1","setError1","error2","setError2","error3","setError3","pwvisibility","setPwVisibility","open","setOpen","userName","setUserName","loading","setLoading","regEmail","inputLogin","e","target","name","value","prevState","btnLogin","formData","FormData","append","test","console","log","fetch","method","headers","Authorization","body","then","res","json","success","localStorage","setItem","data","access_token","email","new_user","window","location","href","alert","error","type","closeIcon","param","eyeIcon","checkEnter","keyCode","history","push","vertical","horizontal","background","LoginInputBox","div","FooterBox","LoginButton","button","ForgetPw","SnackbarWrapper","PopupContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport { logInApi, TOKEN } from \"../../Config/urls\";\nimport { footerBox } from \"../../Config/commonStyles\";\nimport Loading from \"../../../src/Components/Loading\";\nimport styled from \"styled-components\";\nimport Close from \"../../Images/Close\";\nimport Visiblility from \"../../Images/Visibility\";\nimport VisibilityOff from \"../../Images/VisibilityOff\";\n\nfunction LogIn(props) {\n  const propsFromHome = props.props;\n\n  const [loginstate, setLogInState] = useState({\n    logInEmail: \"\",\n    logInPassword: \"\"\n  });\n  const { logInEmail, logInPassword } = loginstate;\n  const isLoginBtnActive = !(logInEmail.length > 0 && logInPassword.length > 0);\n  const emailFilled = logInEmail.length > 0;\n  const pwFilled = logInPassword.length > 0;\n\n  const [error1, setError1] = useState(false); //올바른 이메일이 아닙니다.\n  const [error2, setError2] = useState(false); //계정존재 XX\n  const [error3, setError3] = useState(false); //비밀번호 일치 X\n\n  const [pwvisibility, setPwVisibility] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n\n  const [loading, setLoading] = useState(null); //Loading spinner\n\n  const regEmail = /^[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\\.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/i;\n\n  function inputLogin(e) {\n    const { name, value } = e.target;\n    setLogInState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n\n    if (value === \"\") {\n      setError1(false);\n      setError2(false);\n      setError3(false);\n    }\n  }\n\n  function btnLogin() {\n    const { logInEmail, logInPassword } = loginstate;\n    const formData = new FormData();\n    formData.append(\"email\", logInEmail);\n    formData.append(\"password\", logInPassword);\n\n    if (!regEmail.test(logInEmail)) {\n      setError1(true);\n    } else {\n      setLoading(true);\n      console.log(\"ee\", loading);\n\n      fetch(logInApi, {\n        method: \"POST\",\n        headers: {\n          Authorization: TOKEN\n        },\n        body: formData\n      })\n        .then(res => {\n          return res.json();\n        })\n        .then(res => {\n          return res;\n        })\n        .then(res => {\n          if (res.success === 1) {\n            // 로그인성공;\n            setLoading(false);\n            localStorage.setItem(\"access_token\", res.data.access_token);\n            localStorage.setItem(\"email\", res.data.email);\n            localStorage.setItem(\"new_user\", res.data.new_user);\n            setUserName(res.data.name);\n            res.data.access_token\n              ? setOpen(true)((window.location.href = \"/CreateEvent\"))\n              : alert(\"로그인 실패!\");\n          } else if (res.error.type === 3) {\n            setLoading(false);\n            setError2(true); //계정존재 XX\n          } else if (res.error.type === 4) {\n            setLoading(false);\n            setError3(true); //비밀번호 일치 X\n          }\n        });\n    }\n  }\n\n  function closeIcon(param) {\n    if (param === \"email\") {\n      setLogInState(prevState => ({\n        ...prevState,\n        logInEmail: \"\"\n      }));\n      setError1(false);\n      setError2(false);\n    }\n  }\n\n  function eyeIcon() {\n    setPwVisibility(!pwvisibility);\n  }\n\n  const checkEnter = e => {\n    if (e.keyCode === 13) {\n      btnLogin();\n    }\n  };\n\n  return (\n    <LoginInputBox\n      error1={error1}\n      error2={error2}\n      error3={error3}\n      emailFilled={emailFilled}\n      pwFilled={pwFilled}\n      onKeyDown={e => checkEnter(e)}\n    >\n      <div className=\"emailBox logInEmail \">\n        <input\n          value={loginstate.logInEmail}\n          placeholder=\"이메일\"\n          className=\"correctEmail errorForEmail typingEmail\"\n          name=\"logInEmail\"\n          onChange={inputLogin}\n        />\n        {error1 && (\n          <div className=\"closeIcon\" onClick={() => closeIcon(\"email\")}>\n            <Close />\n          </div>\n        )}\n        {error2 && (\n          <div className=\"closeIcon\" onClick={() => closeIcon(\"email\")}>\n            <Close />\n          </div>\n        )}\n      </div>\n      {error1 && <div className=\"emailError\">올바른 이메일이 아닙니다.</div>}\n      {error2 && <div className=\"emailError\">존재하지 않는 계정 입니다.</div>}\n      <div className=\"pwBox logInPassword \">\n        <input\n          value={loginstate.logInPassword}\n          placeholder=\"비밀번호\"\n          className=\"typingPw errorForPw\"\n          name=\"logInPassword\"\n          onChange={inputLogin}\n          type={pwvisibility ? \"text\" : \"password\"}\n        />\n        {pwFilled && pwvisibility && (\n          <div className=\"eyeIcon\" onClick={eyeIcon}>\n            <Visiblility />\n          </div>\n        )}\n        {pwFilled && !pwvisibility && (\n          <div className=\"eyeIcon\" onClick={eyeIcon}>\n            <VisibilityOff />\n          </div>\n        )}\n      </div>\n      {error3 && (\n        <div className=\"passwordError\">비밀번호가 일치하지 않습니다.</div>\n      )}\n\n      <ForgetPw\n        onClick={() => propsFromHome.history.push(\"/ForgotPasswordPage\")}\n      >\n        비밀번호를 잊으셨나요?\n      </ForgetPw>\n      <FooterBox>\n        <LoginButton\n          button={isLoginBtnActive}\n          onClick={btnLogin}\n          disabled={isLoginBtnActive}\n        >\n          로그인\n          <div className=\"loading\">{loading ? <Loading /> : \"\"}</div>\n        </LoginButton>\n\n        <SnackbarWrapper open={open}>\n          <Snackbar\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"right\"\n            }}\n            open={open}\n            autoHideDuration={3000}\n          >\n            <PopupContent\n              message={`${userName} 님, 로그인을 환영합니다!`}\n              style={{ background: \"#757575\" }}\n            />\n          </Snackbar>\n        </SnackbarWrapper>\n      </FooterBox>\n    </LoginInputBox>\n  );\n}\nexport default LogIn;\n\nconst LoginInputBox = styled.div`\n  margin-top: 10%;\n  display: flex;\n  flex-direction: column;\n  padding-right: 16px;\n  padding-left: 16px;\n\n  .emailBox {\n    width: 100%;\n    position: relative;\n\n    input {\n      padding: 13px;\n      width: 100%;\n      height: 56px;\n      background: white;\n      font-size: 16px;\n    }\n    .errorForEmail {\n      ${({ error1 }) => error1 && `border-bottom: 1px solid red`}\n      ${({ error2 }) => error2 && `border-bottom: 1px solid red`}\n    }\n    .typingEmail {\n      ${({ emailFilled, error1, error2 }) =>\n        emailFilled && !error1 && !error2 && `border-bottom: 1px solid #757575`}\n    }\n    .closeIcon {\n      left: 88%;\n      top: 5%;\n      position: absolute;\n    }\n  }\n  .pwBox {\n    width: 100%;\n    height: 56px;\n    position: relative;\n\n    input {\n      padding: 13px;\n      width: 100%;\n      height: 56px;\n      background: white;\n      font-size: 16px;\n    }\n    .errorForPw {\n      ${({ error3 }) => error3 && `border-bottom: 1px solid red`}\n    }\n    .typingPw {\n      ${({ pwFilled, error3 }) =>\n        pwFilled && !error3 && `border-bottom: 1px solid #757575`}\n    }\n\n    .eyeIcon {\n      left: 88%;\n      top: 6%;\n      position: absolute;\n    }\n  }\n  .logInPassword {\n    ${({ error1, error2 }) => !error1 && !error2 && `margin-top: 5%;`}\n    ${({ error1, emailFilled }) => error1 && emailFilled && `margin-top: 0.5%;`}\n    ${({ error2, emailFilled }) => error2 && emailFilled && `margin-top: 0.5%;`}\n\n    ${({ error3 }) => !error3 && `margin-bottom: 5%;`}\n    ${({ error3, pwFilled }) => error3 && pwFilled && `margin-bottom: 0.5%;`}\n  }\n\n  .emailError,\n  .passwordError {\n    font-size: 13px;\n    color: #e64a19;\n    left: 2%;\n  }\n  .loading {\n    position: absolute;\n    left: 160px;\n    bottom: -10px;\n  }\n`;\n\nconst FooterBox = footerBox;\n\nconst LoginButton = styled.button`\n  position: relative;\n  margin-top: 25.4%;\n  height: 48px;\n  border-radius: 4px;\n  font-weight: bold;\n  font-size: 14px;\n  text-align: center;\n  letter-spacing: 0.08em;\n  color: #ffffff;\n  cursor: ${({ button }) => (button ? \"cursor\" : \"pointer\")};\n  background: ${({ button }) => (button ? \"#BDBDBD\" : \"#212121\")};\n`;\n\nconst ForgetPw = styled.div`\n  margin-left: 20px;\n  margin-top: 20px;\n  font-size: 14px;\n  cursor: pointer;\n`;\n\nconst SnackbarWrapper = styled.div`\n  position: fixed;\n  display: ${({ open }) => (open ? \"block\" : \"none\")};\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.65);\n  z-index: 100;\n`;\n\nconst PopupContent = styled(SnackbarContent)`\n  .MuiSnackbarContent-message {\n    color: #fff;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}