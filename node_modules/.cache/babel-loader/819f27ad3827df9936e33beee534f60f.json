{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject21(){var data=_taggedTemplateLiteral([\"\\n  margin: 1px 0 0 8px;\\n  span {\\n    position: absolute;\\n    font-weight: bold;\\n    font-size: 13px;\\n    color: #e64a19;\\n  }\\n\"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral([\"\\n  margin-left: 190px;\\n  margin-top: 100px;\\n  height: 36px;\\n  width: 156px;\\n  font-weight: bold;\\n  font-size: 14px;\\n  box-shadow: 0px 2px 4px rgba(66, 66, 66, 0.14),\\n    0px 3px 4px rgba(66, 66, 66, 0.12), 0px 1px 5px rgba(66, 66, 66, 0.2);\\n  border-radius: 4px;\\n  color: white;\\n  cursor: pointer;\\n  background-color: \",\";\\n  align-self: flex-end;\\n  margin-top: 200px;\\n  margin-right: 100px;\\n  @media (max-width: 500px) {\\n    margin-top: 50px;\\n  }\\n\"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  input {\\n    height: 40px;\\n    width: 350px;\\n    background: #ffffff;\\n    border: \",\";\\n    box-sizing: border-box;\\n    border-radius: 6px;\\n    margin-top: 30px;\\n    padding: 14px 0 16px 13px;\\n    font-size: 16px;\\n  }\\n\"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  input {\\n    height: 40px;\\n    width: 350px;\\n    background: #ffffff;\\n    border: \",\";\\n    box-sizing: border-box;\\n    border-radius: 6px;\\n    margin-top: 30px;\\n    padding: 14px 0 16px 13px;\\n    font-size: 16px;\\n  }\\n\"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  input {\\n    height: 40px;\\n    width: 350px;\\n    background: #ffffff;\\n    border: \",\";\\n    box-sizing: border-box;\\n    border-radius: 6px;\\n    margin-top: 30px;\\n    padding: 14px 0 16px 13px;\\n    font-size: 16px;\\n  }\\n\"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n\"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral([\"\"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral([\"\\n  margin-left: 80px;\\n\"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral([\"\\n  input {\\n    height: 40px;\\n    width: 350px;\\n    background: #ffffff;\\n    border: \",\";\\n    border-radius: 6px;\\n    margin-top: 30px;\\n    padding: 14px 0 16px 13px;\\n    font-size: 16px;\\n  }\\n\"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n  input {\\n    height: 40px;\\n    width: 350px;\\n    background: #f5f5f5;\\n    border: \",\";\\n    border-radius: 6px;\\n    margin-top: 30px;\\n    padding: 14px 0 16px 13px;\\n    font-size: 16px;\\n  }\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 100px;\\n  justify-content: center;\\n  align-items: center;\\n  @media (max-width: 500px) {\\n    margin-top: 40px;\\n  }\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  margin: 50px 0px 0px 120px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  width: 300px;\\n  @media (max-width: 500px) {\\n    width: 100%;\\n    margin: 100px 0px 0px 0px;\\n    display: flex;\\n    justify-content: center;\\n  }\\n  span {\\n    font-weight: bold;\\n    font-size: 50px;\\n    color: #96a9cf;\\n    line-height: 130%;\\n    @media (max-width: 500px) {\\n      font-size: 42px;\\n    }\\n  }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  @media (max-width: 500px) {\\n    margin-bottom: 20px;\\n  }\\n  span {\\n    font-weight: 300;\\n    font-size: 34px;\\n    color: #96a9cf;\\n    @media (max-width: 500px) {\\n      font-size: 28px;\\n      margin-left: 20px;\\n    }\\n  }\\n\\n  div {\\n    font-size: 12px;\\n    font-style: normal;\\n    font-weight: 700;\\n    letter-spacing: 0.08em;\\n    text-align: left;\\n    white-space: nowrap;\\n    cursor: pointer;\\n    @media (max-width: 500px) {\\n      margin-right: 20px;\\n    }\\n  }\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  margin: 20px 0px 0px 0px;\\n  @media (max-width: 500px) {\\n    margin: 80px 0px 0px 0px;\\n  }\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  min-height: 700px;\\n  min-width: 1400px;\\n  display: flex;\\n  padding: 24px;\\n  @media (max-width: 500px) {\\n    min-width: 300px;\\n    padding: 0px;\\n  }\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  right: 5px;\\n  top: 25px;\\n  position: absolute;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  right: 5px;\\n  top: 25px;\\n  position: absolute;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  right: 5px;\\n  top: 25px;\\n  position: absolute;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import{Snackbar}from\"@material-ui/core\";import{SnackbarContent}from\"@material-ui/core\";import Visibility from\"../../Images/Visibility\";import VisibilityOff from\"../../Images/VisibilityOff\";import{updateUserInfo,headers,getUserInfo}from\"../../Config/urls\";import axios from\"axios\";import qs from\"qs\";import{withRouter}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import ButtonModal from\"./Components/ButtonModal\";import DeleteParentModal from\"../Order/Components/DeleteParentModal\";import DeletedSnackBar from\"../Order/Components/DeletedSnackBar\";function Profile(){var email=localStorage.getItem(\"email\");var accessToken=localStorage.getItem(\"access_token\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),displayName=_useState2[0],setDisplayName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),oldPw=_useState4[0],setOldPw=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),snackbar=_useState6[0],setSnackbar=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modal=_useState8[0],setModal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),name=_useState10[0],setName=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),oldPassEye=_useState12[0],setOldPassEye=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),newPassEye=_useState14[0],setNewPassEye=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),confirmPassEye=_useState16[0],setConfirmPassEye=_useState16[1];var del=useSelector(function(store){return store.deleteReducer;});var deleted=useSelector(function(store){return store.confirmDeleteReducer;});var _useState17=useState({emailValue:\"\",nameValue:\"\",oldPassValue:\"\",newPassValue:\"\",confirmPassValue:\"\"}),_useState18=_slicedToArray(_useState17,2),input=_useState18[0],setInput=_useState18[1];var _useState19=useState({oldPassErr:\"\",newPassErr:\"\",confirmPassErr:\"\"}),_useState20=_slicedToArray(_useState19,2),err=_useState20[0],setErr=_useState20[1];var dispatch=useDispatch();var getUserData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,_yield$axios$get$data,data,success;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(getUserInfo,{headers:headers,params:{email:email,token:accessToken}});case 3:_yield$axios$get=_context.sent;_yield$axios$get$data=_yield$axios$get.data;data=_yield$axios$get$data.data;success=_yield$axios$get$data.success;if(!(success===0)){_context.next=14;break;}localStorage.removeItem(\"access_token\");localStorage.removeItem(\"email\");localStorage.removeItem(\"new_user\");localStorage.removeItem(\"toggle\");window.location.href=\"/\";return _context.abrupt(\"return\");case 14:setInput(_objectSpread(_objectSpread({},input),{},{emailValue:data.user_data.email,nameValue:data.user_data.name}));setDisplayName(data.user_data.name);setOldPw(data.user_data.password);_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](0);console.log(\"겟유저데이터 에러 확인\",_context.t0);case 22:case\"end\":return _context.stop();}}},_callee,null,[[0,19]]);}));return function getUserData(){return _ref.apply(this,arguments);};}();useEffect(function(){getUserData();},[]);var emailValue=input.emailValue,nameValue=input.nameValue,oldPassValue=input.oldPassValue,newPassValue=input.newPassValue,confirmPassValue=input.confirmPassValue;var oldPassErr=err.oldPassErr,newPassErr=err.newPassErr,confirmPassErr=err.confirmPassErr;var nameData=qs.stringify({email:email,token:accessToken,name:nameValue});var pwData=qs.stringify({email:email,token:accessToken,password:confirmPassValue});var postName=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$axios$post,_yield$axios$post$dat,data,success;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(updateUserInfo,nameData,{headers:headers});case 3:_yield$axios$post=_context2.sent;_yield$axios$post$dat=_yield$axios$post.data;data=_yield$axios$post$dat.data;success=_yield$axios$post$dat.success;console.log(\"포스트 네임 서버 통신 결과 success\",success);console.log(\"포스트 네임 서버 통신 결과 data\",data);getUserData();_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log(\"포스트 네임 에러\",_context2.t0);case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function postName(){return _ref2.apply(this,arguments);};}();var postPassword=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(updateUserInfo,pwData,{headers:headers});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function postPassword(){return _ref3.apply(this,arguments);};}();// ------Password Validation-----\nvar checkOldPw=oldPassValue===oldPw;var oldPassRequire=oldPassValue.length>7;var newPassRequire=newPassValue.length>7;var confirmPassRequire=confirmPassValue.length>7;var checkPassValidation=newPassValue!==confirmPassValue;var checkConfirmPass=checkPassValidation&&newPassRequire&&confirmPassRequire?\"새로운 비밀번호가 일치하지 않습니다.\":\"\";// -------------------------------\n// ------Name Validation------\nvar regName=/^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;var SCValidation=nameValue&&!regName.test(nameValue)?\"특수문자 및 숫자는 입력하실수 없습니다.\":\"\";var nameValidation=nameValue.length>0;var sameName=nameValue===displayName;// ----------------------------\nvar handleInput=function handleInput(e){// e.preventDefault();\nvar _e$target=e.target,name=_e$target.name,value=_e$target.value;setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},\"\".concat(name,\"Value\"),value)));var validator={oldPass:value.length<8&&value.length>0?\"비밀번호는 최소 8자리 이상이어야 합니다.\":\"\",newPass:value.length<8&&value.length>0?\"비밀번호는 최소 8자리 이상이어야 합니다.\":\"\",confirmPass:value.length<8&&value.length>0?\"비밀번호는 최소 8자리 이상이어야 합니다.\":\"\"};setErr(_objectSpread(_objectSpread({},err),{},_defineProperty({},\"\".concat(name,\"Err\"),validator[name])));};// 저장버튼\n// const handleSubmit = e => {\n//   if (!SCValidation && !sameName) {\n//     postName();\n//     setSnackbar(true); //snackbar open\n//     setTimeout(() => {\n//       setSnackbar(false);\n//     }, 3000);\n//   }\n//   if (!checkOldPw && oldPassRequire) {\n//     e.preventDefault();\n//     setName(true);\n//   }\n//   if (\n//     checkOldPw &&\n//     oldPassRequire &&\n//     newPassRequire &&\n//     confirmPassRequire &&\n//     !checkPassValidation\n//   ) {\n//     e.preventDefault();\n//     setModal(true);\n//   }\n// };\nvar handleSubmit=function handleSubmit(e){e.preventDefault();if(!SCValidation&&!sameName){postName();setSnackbar(true);//snackbar open\nsetTimeout(function(){setSnackbar(false);},3000);}if(!checkOldPw&&oldPassRequire){setName(true);}if(checkOldPw&&oldPassRequire&&newPassRequire&&confirmPassRequire&&!checkPassValidation){setModal(true);}};//button Validation\nvar isTyped=nameValidation&&!sameName&&!confirmPassValue&&!newPassValue&&!oldPassValue&&regName.test(nameValue)||oldPassRequire&&newPassRequire&&confirmPassRequire&&!checkPassValidation&&regName.test(nameValue);//비밀번호 텍스트 또는 암호화\nvar oldEyeIcon=function oldEyeIcon(){setOldPassEye(!oldPassEye);};var newEyeIcon=function newEyeIcon(){setNewPassEye(!newPassEye);};var confirmEyeIcon=function confirmEyeIcon(){setConfirmPassEye(!confirmPassEye);};// 로그아웃\nvar handleLogout=function handleLogout(){localStorage.removeItem(\"access_token\");localStorage.removeItem(\"email\");localStorage.removeItem(\"new_user\");localStorage.removeItem(\"toggle\");window.location.href=\"/\";};if(!accessToken&&!email){window.location.href=\"/\";}else{return/*#__PURE__*/React.createElement(Container,null,modal?/*#__PURE__*/React.createElement(ButtonModal,{postPassword:postPassword,open:modal,setOpen:setModal}):\"\",del&&/*#__PURE__*/React.createElement(DeleteParentModal,null),deleted&&/*#__PURE__*/React.createElement(DeletedSnackBar,null),/*#__PURE__*/React.createElement(ProfilePageWrap,null,/*#__PURE__*/React.createElement(TitleContainer,null,/*#__PURE__*/React.createElement(\"span\",null,\"\\uD504\\uB85C\\uD544\"),/*#__PURE__*/React.createElement(\"div\",{onClick:handleLogout},\"\\uB85C\\uADF8\\uC544\\uC6C3\")),/*#__PURE__*/React.createElement(NameContainer,null,/*#__PURE__*/React.createElement(\"span\",null,displayName)),/*#__PURE__*/React.createElement(InputContainer,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(InfoContainer,null,/*#__PURE__*/React.createElement(InfoTitle,null,\"\\uC774\\uB984 \\uBCC0\\uACBD\"),/*#__PURE__*/React.createElement(InfoInput,null,/*#__PURE__*/React.createElement(EmailInput,null,/*#__PURE__*/React.createElement(\"input\",{disabled:true,type:\"text\",onChange:handleInput,name:\"email\",value:emailValue,placeholder:\"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\"})),/*#__PURE__*/React.createElement(NameInput,{isValid:SCValidation},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:handleInput,name:\"name\",value:nameValue,placeholder:\"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/React.createElement(ErrIndicator,null,/*#__PURE__*/React.createElement(\"span\",null,SCValidation))))),/*#__PURE__*/React.createElement(ButtonContainer,{disabled:!isTyped,isValid:isTyped,onClick:handleSubmit},\"\\uC800\\uC7A5\")),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:\"bottom\",horizontal:\"right\"},open:snackbar,autoHideDuration:3000},/*#__PURE__*/React.createElement(SnackbarContent,{message:\"\\uD504\\uB85C\\uD544 \\uC218\\uC815\\uC774 \\uC644\\uB8CC \\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",style:{backgroundColor:\"#757575\"}}))));}}export default withRouter(Profile);var OldPassVisible=styled.div(_templateObject());var NewPassVisible=styled.div(_templateObject2());var ConfirmPassVisible=styled.div(_templateObject3());var Container=styled.main(_templateObject4());var ProfilePageWrap=styled.section(_templateObject5());var TitleContainer=styled.div(_templateObject6());var NameContainer=styled.div(_templateObject7());var InputContainer=styled.form(_templateObject8());var InfoContainer=styled.div(_templateObject9());var InfoTitle=styled.div(_templateObject10());var InfoInput=styled.div(_templateObject11(),function(_ref4){var theme=_ref4.theme;return theme.flex(\"\",\"\",\"column\");});var EmailInput=styled.div(_templateObject12(),function(_ref5){var isValid=_ref5.isValid;return isValid?\"1px solid red \":\"  0.5px solid #bdbdbd \";});var NameInput=styled.div(_templateObject13(),function(_ref6){var isValid=_ref6.isValid;return isValid?\"1px solid red \":\"  0.5px solid #bdbdbd \";});var PasswordContainer=styled.div(_templateObject14());var PasswordTitle=styled.div(_templateObject15());var PasswordInput=styled.div(_templateObject16(),function(_ref7){var theme=_ref7.theme;return theme.flex(\"\",\"\",\"column\");});var OldPassInput=styled.div(_templateObject17(),function(_ref8){var isValid=_ref8.isValid;return isValid?\"1px solid red \":\" 0.5px solid #bdbdbd \";});var NewPassInput=styled.div(_templateObject18(),function(_ref9){var isValid=_ref9.isValid;return isValid?\"1px solid red \":\" 0.5px solid #bdbdbd \";});var ConfirmPassInput=styled.div(_templateObject19(),function(_ref10){var isValid=_ref10.isValid;return isValid?\"1px solid red \":\" 0.5px solid #bdbdbd \";});var ButtonContainer=styled.button(_templateObject20(),function(_ref11){var isValid=_ref11.isValid;return isValid?\"#212121\":\"#bdbdbd\";});var ErrIndicator=styled.div(_templateObject21());","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/src/Pages/Profile/Profile.js"],"names":["React","useState","useEffect","styled","Snackbar","SnackbarContent","Visibility","VisibilityOff","updateUserInfo","headers","getUserInfo","axios","qs","withRouter","useSelector","useDispatch","ButtonModal","DeleteParentModal","DeletedSnackBar","Profile","email","localStorage","getItem","accessToken","displayName","setDisplayName","oldPw","setOldPw","snackbar","setSnackbar","modal","setModal","name","setName","oldPassEye","setOldPassEye","newPassEye","setNewPassEye","confirmPassEye","setConfirmPassEye","del","store","deleteReducer","deleted","confirmDeleteReducer","emailValue","nameValue","oldPassValue","newPassValue","confirmPassValue","input","setInput","oldPassErr","newPassErr","confirmPassErr","err","setErr","dispatch","getUserData","get","params","token","data","success","removeItem","window","location","href","user_data","password","console","log","nameData","stringify","pwData","postName","post","postPassword","checkOldPw","oldPassRequire","length","newPassRequire","confirmPassRequire","checkPassValidation","checkConfirmPass","regName","SCValidation","test","nameValidation","sameName","handleInput","e","target","value","validator","oldPass","newPass","confirmPass","handleSubmit","preventDefault","setTimeout","isTyped","oldEyeIcon","newEyeIcon","confirmEyeIcon","handleLogout","vertical","horizontal","backgroundColor","OldPassVisible","div","NewPassVisible","ConfirmPassVisible","Container","main","ProfilePageWrap","section","TitleContainer","NameContainer","InputContainer","form","InfoContainer","InfoTitle","InfoInput","theme","flex","EmailInput","isValid","NameInput","PasswordContainer","PasswordTitle","PasswordInput","OldPassInput","NewPassInput","ConfirmPassInput","ButtonContainer","button","ErrIndicator"],"mappings":"skOAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,OAASC,cAAT,CAAyBC,OAAzB,CAAkCC,WAAlC,KAAqD,mBAArD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,EAAP,KAAe,IAAf,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,qCAA5B,CAEA,QAASC,CAAAA,OAAT,EAAmB,CACjB,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,GAAMC,CAAAA,WAAW,CAAGF,YAAY,CAACC,OAAb,CAAqB,cAArB,CAApB,CAFiB,cAGqBrB,QAAQ,CAAC,EAAD,CAH7B,wCAGVuB,WAHU,eAGGC,cAHH,8BAISxB,QAAQ,CAAC,EAAD,CAJjB,yCAIVyB,KAJU,eAIHC,QAJG,8BAKe1B,QAAQ,CAAC,KAAD,CALvB,yCAKV2B,QALU,eAKAC,WALA,8BAMS5B,QAAQ,CAAC,KAAD,CANjB,yCAMV6B,KANU,eAMHC,QANG,8BAOO9B,QAAQ,CAAC,KAAD,CAPf,0CAOV+B,IAPU,gBAOJC,OAPI,gCAQmBhC,QAAQ,CAAC,KAAD,CAR3B,2CAQViC,UARU,gBAQEC,aARF,gCASmBlC,QAAQ,CAAC,KAAD,CAT3B,2CASVmC,UATU,gBASEC,aATF,gCAU2BpC,QAAQ,CAAC,KAAD,CAVnC,2CAUVqC,cAVU,gBAUMC,iBAVN,gBAWjB,GAAMC,CAAAA,GAAG,CAAG1B,WAAW,CAAC,SAAA2B,KAAK,QAAIA,CAAAA,KAAK,CAACC,aAAV,EAAN,CAAvB,CACA,GAAMC,CAAAA,OAAO,CAAG7B,WAAW,CAAC,SAAA2B,KAAK,QAAIA,CAAAA,KAAK,CAACG,oBAAV,EAAN,CAA3B,CAZiB,gBAaS3C,QAAQ,CAAC,CACjC4C,UAAU,CAAE,EADqB,CAEjCC,SAAS,CAAE,EAFsB,CAGjCC,YAAY,CAAE,EAHmB,CAIjCC,YAAY,CAAE,EAJmB,CAKjCC,gBAAgB,CAAE,EALe,CAAD,CAbjB,2CAaVC,KAbU,gBAaHC,QAbG,gCAoBKlD,QAAQ,CAAC,CAC7BmD,UAAU,CAAE,EADiB,CAE7BC,UAAU,CAAE,EAFiB,CAG7BC,cAAc,CAAE,EAHa,CAAD,CApBb,2CAoBVC,GApBU,gBAoBLC,MApBK,gBA0BjB,GAAMC,CAAAA,QAAQ,CAAG1C,WAAW,EAA5B,CAEA,GAAM2C,CAAAA,WAAW,0FAAG,iOAIN/C,CAAAA,KAAK,CAACgD,GAAN,CAAUjD,WAAV,CAAuB,CAC/BD,OAAO,CAAPA,OAD+B,CAE/BmD,MAAM,CAAE,CACNxC,KAAK,CAALA,KADM,CAENyC,KAAK,CAAEtC,WAFD,CAFuB,CAAvB,CAJM,8EAGduC,IAHc,CAGNA,IAHM,uBAGNA,IAHM,CAGAC,OAHA,uBAGAA,OAHA,MAYZA,OAAO,GAAK,CAZA,2BAad1C,YAAY,CAAC2C,UAAb,CAAwB,cAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,OAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,UAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,QAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CAjBc,yCAqBhBhB,QAAQ,gCACHD,KADG,MAENL,UAAU,CAAEiB,IAAI,CAACM,SAAL,CAAehD,KAFrB,CAGN0B,SAAS,CAAEgB,IAAI,CAACM,SAAL,CAAepC,IAHpB,GAAR,CAMAP,cAAc,CAACqC,IAAI,CAACM,SAAL,CAAepC,IAAhB,CAAd,CACAL,QAAQ,CAACmC,IAAI,CAACM,SAAL,CAAeC,QAAhB,CAAR,CA5BgB,iFA8BhBC,OAAO,CAACC,GAAR,CAAY,cAAZ,cA9BgB,qEAAH,kBAAXb,CAAAA,WAAW,0CAAjB,CAkCAxD,SAAS,CAAC,UAAM,CACdwD,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CA9DiB,GAmEfb,CAAAA,UAnEe,CAwEbK,KAxEa,CAmEfL,UAnEe,CAoEfC,SApEe,CAwEbI,KAxEa,CAoEfJ,SApEe,CAqEfC,YArEe,CAwEbG,KAxEa,CAqEfH,YArEe,CAsEfC,YAtEe,CAwEbE,KAxEa,CAsEfF,YAtEe,CAuEfC,gBAvEe,CAwEbC,KAxEa,CAuEfD,gBAvEe,IA0ETG,CAAAA,UA1ES,CA0EkCG,GA1ElC,CA0ETH,UA1ES,CA0EGC,UA1EH,CA0EkCE,GA1ElC,CA0EGF,UA1EH,CA0EeC,cA1Ef,CA0EkCC,GA1ElC,CA0EeD,cA1Ef,CA4EjB,GAAMkB,CAAAA,QAAQ,CAAG5D,EAAE,CAAC6D,SAAH,CAAa,CAC5BrD,KAAK,CAALA,KAD4B,CAE5ByC,KAAK,CAAEtC,WAFqB,CAG5BS,IAAI,CAAEc,SAHsB,CAAb,CAAjB,CAMA,GAAM4B,CAAAA,MAAM,CAAG9D,EAAE,CAAC6D,SAAH,CAAa,CAC1BrD,KAAK,CAALA,KAD0B,CAE1ByC,KAAK,CAAEtC,WAFmB,CAG1B8C,QAAQ,CAAEpB,gBAHgB,CAAb,CAAf,CAMA,GAAM0B,CAAAA,QAAQ,2FAAG,yOAIHhE,CAAAA,KAAK,CAACiE,IAAN,CAAWpE,cAAX,CAA2BgE,QAA3B,CAAqC,CAC7C/D,OAAO,CAAPA,OAD6C,CAArC,CAJG,iFAGXqD,IAHW,CAGHA,IAHG,uBAGHA,IAHG,CAGGC,OAHH,uBAGGA,OAHH,CAObO,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCR,OAAvC,EACAO,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoCT,IAApC,EACAJ,WAAW,GATE,qFAWbY,OAAO,CAACC,GAAR,CAAY,WAAZ,eAXa,uEAAH,kBAARI,CAAAA,QAAQ,2CAAd,CAeA,GAAME,CAAAA,YAAY,2FAAG,+JACblE,CAAAA,KAAK,CAACiE,IAAN,CAAWpE,cAAX,CAA2BkE,MAA3B,CAAmC,CACvCjE,OAAO,CAAPA,OADuC,CAAnC,CADa,yDAAH,kBAAZoE,CAAAA,YAAY,2CAAlB,CAMA;AACA,GAAMC,CAAAA,UAAU,CAAG/B,YAAY,GAAKrB,KAApC,CACA,GAAMqD,CAAAA,cAAc,CAAGhC,YAAY,CAACiC,MAAb,CAAsB,CAA7C,CACA,GAAMC,CAAAA,cAAc,CAAGjC,YAAY,CAACgC,MAAb,CAAsB,CAA7C,CACA,GAAME,CAAAA,kBAAkB,CAAGjC,gBAAgB,CAAC+B,MAAjB,CAA0B,CAArD,CACA,GAAMG,CAAAA,mBAAmB,CAAGnC,YAAY,GAAKC,gBAA7C,CACA,GAAMmC,CAAAA,gBAAgB,CACpBD,mBAAmB,EAAIF,cAAvB,EAAyCC,kBAAzC,CACI,sBADJ,CAEI,EAHN,CAIA;AAEA;AACA,GAAMG,CAAAA,OAAO,CAAG,6BAAhB,CACA,GAAMC,CAAAA,YAAY,CAChBxC,SAAS,EAAI,CAACuC,OAAO,CAACE,IAAR,CAAazC,SAAb,CAAd,CACI,wBADJ,CAEI,EAHN,CAIA,GAAM0C,CAAAA,cAAc,CAAG1C,SAAS,CAACkC,MAAV,CAAmB,CAA1C,CACA,GAAMS,CAAAA,QAAQ,CAAG3C,SAAS,GAAKtB,WAA/B,CACA;AAEA,GAAMkE,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,CAAC,CAAI,CACvB;AADuB,cAECA,CAAC,CAACC,MAFH,CAEf5D,IAFe,WAEfA,IAFe,CAET6D,KAFS,WAETA,KAFS,CAGvB1C,QAAQ,gCACHD,KADG,kCAEFlB,IAFE,UAEY6D,KAFZ,GAAR,CAKA,GAAMC,CAAAA,SAAS,CAAG,CAChBC,OAAO,CACLF,KAAK,CAACb,MAAN,CAAe,CAAf,EAAoBa,KAAK,CAACb,MAAN,CAAe,CAAnC,CACI,yBADJ,CAEI,EAJU,CAKhBgB,OAAO,CACLH,KAAK,CAACb,MAAN,CAAe,CAAf,EAAoBa,KAAK,CAACb,MAAN,CAAe,CAAnC,CACI,yBADJ,CAEI,EARU,CAShBiB,WAAW,CACTJ,KAAK,CAACb,MAAN,CAAe,CAAf,EAAoBa,KAAK,CAACb,MAAN,CAAe,CAAnC,CACI,yBADJ,CAEI,EAZU,CAAlB,CAeAxB,MAAM,gCACDD,GADC,kCAEAvB,IAFA,QAEY8D,SAAS,CAAC9D,IAAD,CAFrB,GAAN,CAID,CA3BD,CA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMkE,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAP,CAAC,CAAI,CACxBA,CAAC,CAACQ,cAAF,GACA,GAAI,CAACb,YAAD,EAAiB,CAACG,QAAtB,CAAgC,CAC9Bd,QAAQ,GAER9C,WAAW,CAAC,IAAD,CAAX,CAAmB;AACnBuE,UAAU,CAAC,UAAM,CACfvE,WAAW,CAAC,KAAD,CAAX,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CACD,GAAI,CAACiD,UAAD,EAAeC,cAAnB,CAAmC,CACjC9C,OAAO,CAAC,IAAD,CAAP,CACD,CACD,GACE6C,UAAU,EACVC,cADA,EAEAE,cAFA,EAGAC,kBAHA,EAIA,CAACC,mBALH,CAME,CACApD,QAAQ,CAAC,IAAD,CAAR,CACD,CACF,CAtBD,CAwBA;AACA,GAAMsE,CAAAA,OAAO,CACVb,cAAc,EACb,CAACC,QADF,EAEC,CAACxC,gBAFF,EAGC,CAACD,YAHF,EAIC,CAACD,YAJF,EAKCsC,OAAO,CAACE,IAAR,CAAazC,SAAb,CALF,EAMCiC,cAAc,EACbE,cADD,EAECC,kBAFD,EAGC,CAACC,mBAHF,EAICE,OAAO,CAACE,IAAR,CAAazC,SAAb,CAXJ,CAaA;AACA,GAAMwD,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBnE,aAAa,CAAC,CAACD,UAAF,CAAb,CACD,CAFD,CAIA,GAAMqE,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBlE,aAAa,CAAC,CAACD,UAAF,CAAb,CACD,CAFD,CAIA,GAAMoE,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BjE,iBAAiB,CAAC,CAACD,cAAF,CAAjB,CACD,CAFD,CAIA;AACA,GAAMmE,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBpF,YAAY,CAAC2C,UAAb,CAAwB,cAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,OAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,UAAxB,EACA3C,YAAY,CAAC2C,UAAb,CAAwB,QAAxB,EACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACD,CAND,CAQA,GAAI,CAAC5C,WAAD,EAAgB,CAACH,KAArB,CAA4B,CAC1B6C,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACD,CAFD,IAEO,CACL,mBACE,oBAAC,SAAD,MACGrC,KAAK,cACJ,oBAAC,WAAD,EACE,YAAY,CAAE+C,YADhB,CAEE,IAAI,CAAE/C,KAFR,CAGE,OAAO,CAAEC,QAHX,EADI,CAOJ,EARJ,CAUGS,GAAG,eAAI,oBAAC,iBAAD,MAVV,CAWGG,OAAO,eAAI,oBAAC,eAAD,MAXd,cAaE,oBAAC,eAAD,mBACE,oBAAC,cAAD,mBACE,qDADF,cAEE,2BAAK,OAAO,CAAE8D,YAAd,6BAFF,CADF,cAKE,oBAAC,aAAD,mBACE,gCAAOjF,WAAP,CADF,CALF,cAQE,oBAAC,cAAD,EAAgB,QAAQ,CAAE0E,YAA1B,eACE,oBAAC,aAAD,mBACE,oBAAC,SAAD,kCADF,cAEE,oBAAC,SAAD,mBACE,oBAAC,UAAD,mBACE,6BACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,QAAQ,CAAER,WAHZ,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAE7C,UALT,CAME,WAAW,CAAC,iEANd,EADF,CADF,cAWE,oBAAC,SAAD,EAAW,OAAO,CAAEyC,YAApB,eACE,6BACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAEI,WAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAE5C,SAJT,CAKE,WAAW,CAAC,2DALd,EADF,cASE,oBAAC,YAAD,mBACE,gCAAOwC,YAAP,CADF,CATF,CAXF,CAFF,CADF,cA8GE,oBAAC,eAAD,EACE,QAAQ,CAAE,CAACe,OADb,CAEE,OAAO,CAAEA,OAFX,CAGE,OAAO,CAAEH,YAHX,iBA9GF,CARF,cA8HE,oBAAC,QAAD,EACE,YAAY,CAAE,CACZQ,QAAQ,CAAE,QADE,CAEZC,UAAU,CAAE,OAFA,CADhB,CAKE,IAAI,CAAE/E,QALR,CAME,gBAAgB,CAAE,IANpB,eAQE,oBAAC,eAAD,EACE,OAAO,qFADT,CAEE,KAAK,CAAE,CACLgF,eAAe,CAAE,SADZ,CAFT,EARF,CA9HF,CAbF,CADF,CA8JD,CACF,CAED,cAAe/F,CAAAA,UAAU,CAACM,OAAD,CAAzB,CAEA,GAAM0F,CAAAA,cAAc,CAAG1G,MAAM,CAAC2G,GAAV,mBAApB,CAMA,GAAMC,CAAAA,cAAc,CAAG5G,MAAM,CAAC2G,GAAV,oBAApB,CAMA,GAAME,CAAAA,kBAAkB,CAAG7G,MAAM,CAAC2G,GAAV,oBAAxB,CAMA,GAAMG,CAAAA,SAAS,CAAG9G,MAAM,CAAC+G,IAAV,oBAAf,CAWA,GAAMC,CAAAA,eAAe,CAAGhH,MAAM,CAACiH,OAAV,oBAArB,CAQA,GAAMC,CAAAA,cAAc,CAAGlH,MAAM,CAAC2G,GAAV,oBAApB,CA+BA,GAAMQ,CAAAA,aAAa,CAAGnH,MAAM,CAAC2G,GAAV,oBAAnB,CAuBA,GAAMS,CAAAA,cAAc,CAAGpH,MAAM,CAACqH,IAAV,oBAApB,CAWA,GAAMC,CAAAA,aAAa,CAAGtH,MAAM,CAAC2G,GAAV,oBAAnB,CAEA,GAAMY,CAAAA,SAAS,CAAGvH,MAAM,CAAC2G,GAAV,qBAAf,CAEA,GAAMa,CAAAA,SAAS,CAAGxH,MAAM,CAAC2G,GAAV,qBACX,mBAAGc,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,IAAN,CAAW,EAAX,CAAe,EAAf,CAAmB,QAAnB,CAAf,EADW,CAAf,CAIA,GAAMC,CAAAA,UAAU,CAAG3H,MAAM,CAAC2G,GAAV,qBAKF,mBAAGiB,CAAAA,OAAH,OAAGA,OAAH,OACRA,CAAAA,OAAO,CAAG,gBAAH,CAAsB,wBADrB,EALE,CAAhB,CAcA,GAAMC,CAAAA,SAAS,CAAG7H,MAAM,CAAC2G,GAAV,qBAKD,mBAAGiB,CAAAA,OAAH,OAAGA,OAAH,OACRA,CAAAA,OAAO,CAAG,gBAAH,CAAsB,wBADrB,EALC,CAAf,CAcA,GAAME,CAAAA,iBAAiB,CAAG9H,MAAM,CAAC2G,GAAV,qBAAvB,CAIA,GAAMoB,CAAAA,aAAa,CAAG/H,MAAM,CAAC2G,GAAV,qBAAnB,CAEA,GAAMqB,CAAAA,aAAa,CAAGhI,MAAM,CAAC2G,GAAV,qBACf,mBAAGc,CAAAA,KAAH,OAAGA,KAAH,OAAeA,CAAAA,KAAK,CAACC,IAAN,CAAW,EAAX,CAAe,EAAf,CAAmB,QAAnB,CAAf,EADe,CAAnB,CAIA,GAAMO,CAAAA,YAAY,CAAGjI,MAAM,CAAC2G,GAAV,qBAMJ,mBAAGiB,CAAAA,OAAH,OAAGA,OAAH,OACRA,CAAAA,OAAO,CAAG,gBAAH,CAAsB,uBADrB,EANI,CAAlB,CAgBA,GAAMM,CAAAA,YAAY,CAAGlI,MAAM,CAAC2G,GAAV,qBAMJ,mBAAGiB,CAAAA,OAAH,OAAGA,OAAH,OACRA,CAAAA,OAAO,CAAG,gBAAH,CAAsB,uBADrB,EANI,CAAlB,CAgBA,GAAMO,CAAAA,gBAAgB,CAAGnI,MAAM,CAAC2G,GAAV,qBAMR,oBAAGiB,CAAAA,OAAH,QAAGA,OAAH,OACRA,CAAAA,OAAO,CAAG,gBAAH,CAAsB,uBADrB,EANQ,CAAtB,CAgBA,GAAMQ,CAAAA,eAAe,CAAGpI,MAAM,CAACqI,MAAV,qBAYC,oBAAGT,CAAAA,OAAH,QAAGA,OAAH,OAAkBA,CAAAA,OAAO,CAAG,SAAH,CAAe,SAAxC,EAZD,CAArB,CAqBA,GAAMU,CAAAA,YAAY,CAAGtI,MAAM,CAAC2G,GAAV,qBAAlB","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport Visibility from \"../../Images/Visibility\";\nimport VisibilityOff from \"../../Images/VisibilityOff\";\nimport { updateUserInfo, headers, getUserInfo } from \"../../Config/urls\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { withRouter } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ButtonModal from \"./Components/ButtonModal\";\nimport DeleteParentModal from \"../Order/Components/DeleteParentModal\";\nimport DeletedSnackBar from \"../Order/Components/DeletedSnackBar\";\n\nfunction Profile() {\n  const email = localStorage.getItem(\"email\");\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [oldPw, setOldPw] = useState(\"\");\n  const [snackbar, setSnackbar] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [name, setName] = useState(false);\n  const [oldPassEye, setOldPassEye] = useState(false);\n  const [newPassEye, setNewPassEye] = useState(false);\n  const [confirmPassEye, setConfirmPassEye] = useState(false);\n  const del = useSelector(store => store.deleteReducer);\n  const deleted = useSelector(store => store.confirmDeleteReducer);\n  const [input, setInput] = useState({\n    emailValue: \"\",\n    nameValue: \"\",\n    oldPassValue: \"\",\n    newPassValue: \"\",\n    confirmPassValue: \"\"\n  });\n  const [err, setErr] = useState({\n    oldPassErr: \"\",\n    newPassErr: \"\",\n    confirmPassErr: \"\"\n  });\n\n  const dispatch = useDispatch();\n\n  const getUserData = async () => {\n    try {\n      const {\n        data: { data, success }\n      } = await axios.get(getUserInfo, {\n        headers,\n        params: {\n          email,\n          token: accessToken\n        }\n      });\n      // 잘못된 처리시 로그아웃 처리\n      if (success === 0) {\n        localStorage.removeItem(\"access_token\");\n        localStorage.removeItem(\"email\");\n        localStorage.removeItem(\"new_user\");\n        localStorage.removeItem(\"toggle\");\n        window.location.href = \"/\";\n        return;\n      }\n\n      setInput({\n        ...input,\n        emailValue: data.user_data.email,\n        nameValue: data.user_data.name\n      });\n\n      setDisplayName(data.user_data.name);\n      setOldPw(data.user_data.password);\n    } catch (err) {\n      console.log(\"겟유저데이터 에러 확인\", err);\n    }\n  };\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n\n  const {\n    emailValue,\n    nameValue,\n    oldPassValue,\n    newPassValue,\n    confirmPassValue\n  } = input;\n\n  const { oldPassErr, newPassErr, confirmPassErr } = err;\n\n  const nameData = qs.stringify({\n    email,\n    token: accessToken,\n    name: nameValue\n  });\n\n  const pwData = qs.stringify({\n    email,\n    token: accessToken,\n    password: confirmPassValue\n  });\n\n  const postName = async () => {\n    try {\n      const {\n        data: { data, success }\n      } = await axios.post(updateUserInfo, nameData, {\n        headers\n      });\n      console.log(\"포스트 네임 서버 통신 결과 success\", success);\n      console.log(\"포스트 네임 서버 통신 결과 data\", data);\n      getUserData();\n    } catch (err) {\n      console.log(\"포스트 네임 에러\", err);\n    }\n  };\n\n  const postPassword = async () => {\n    await axios.post(updateUserInfo, pwData, {\n      headers\n    });\n  };\n\n  // ------Password Validation-----\n  const checkOldPw = oldPassValue === oldPw;\n  const oldPassRequire = oldPassValue.length > 7;\n  const newPassRequire = newPassValue.length > 7;\n  const confirmPassRequire = confirmPassValue.length > 7;\n  const checkPassValidation = newPassValue !== confirmPassValue;\n  const checkConfirmPass =\n    checkPassValidation && newPassRequire && confirmPassRequire\n      ? \"새로운 비밀번호가 일치하지 않습니다.\"\n      : \"\";\n  // -------------------------------\n\n  // ------Name Validation------\n  const regName = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;\n  const SCValidation =\n    nameValue && !regName.test(nameValue)\n      ? \"특수문자 및 숫자는 입력하실수 없습니다.\"\n      : \"\";\n  const nameValidation = nameValue.length > 0;\n  const sameName = nameValue === displayName;\n  // ----------------------------\n\n  const handleInput = e => {\n    // e.preventDefault();\n    const { name, value } = e.target;\n    setInput({\n      ...input,\n      [`${name}Value`]: value\n    });\n\n    const validator = {\n      oldPass:\n        value.length < 8 && value.length > 0\n          ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n          : \"\",\n      newPass:\n        value.length < 8 && value.length > 0\n          ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n          : \"\",\n      confirmPass:\n        value.length < 8 && value.length > 0\n          ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n          : \"\"\n    };\n\n    setErr({\n      ...err,\n      [`${name}Err`]: validator[name]\n    });\n  };\n\n  // 저장버튼\n  // const handleSubmit = e => {\n  //   if (!SCValidation && !sameName) {\n  //     postName();\n  //     setSnackbar(true); //snackbar open\n  //     setTimeout(() => {\n  //       setSnackbar(false);\n  //     }, 3000);\n  //   }\n  //   if (!checkOldPw && oldPassRequire) {\n  //     e.preventDefault();\n  //     setName(true);\n  //   }\n  //   if (\n  //     checkOldPw &&\n  //     oldPassRequire &&\n  //     newPassRequire &&\n  //     confirmPassRequire &&\n  //     !checkPassValidation\n  //   ) {\n  //     e.preventDefault();\n  //     setModal(true);\n  //   }\n  // };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!SCValidation && !sameName) {\n      postName();\n\n      setSnackbar(true); //snackbar open\n      setTimeout(() => {\n        setSnackbar(false);\n      }, 3000);\n    }\n    if (!checkOldPw && oldPassRequire) {\n      setName(true);\n    }\n    if (\n      checkOldPw &&\n      oldPassRequire &&\n      newPassRequire &&\n      confirmPassRequire &&\n      !checkPassValidation\n    ) {\n      setModal(true);\n    }\n  };\n\n  //button Validation\n  const isTyped =\n    (nameValidation &&\n      !sameName &&\n      !confirmPassValue &&\n      !newPassValue &&\n      !oldPassValue &&\n      regName.test(nameValue)) ||\n    (oldPassRequire &&\n      newPassRequire &&\n      confirmPassRequire &&\n      !checkPassValidation &&\n      regName.test(nameValue));\n\n  //비밀번호 텍스트 또는 암호화\n  const oldEyeIcon = () => {\n    setOldPassEye(!oldPassEye);\n  };\n\n  const newEyeIcon = () => {\n    setNewPassEye(!newPassEye);\n  };\n\n  const confirmEyeIcon = () => {\n    setConfirmPassEye(!confirmPassEye);\n  };\n\n  // 로그아웃\n  const handleLogout = () => {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"new_user\");\n    localStorage.removeItem(\"toggle\");\n    window.location.href = \"/\";\n  };\n\n  if (!accessToken && !email) {\n    window.location.href = \"/\";\n  } else {\n    return (\n      <Container>\n        {modal ? (\n          <ButtonModal\n            postPassword={postPassword}\n            open={modal}\n            setOpen={setModal}\n          />\n        ) : (\n          \"\"\n        )}\n        {del && <DeleteParentModal />}\n        {deleted && <DeletedSnackBar />}\n\n        <ProfilePageWrap>\n          <TitleContainer>\n            <span>프로필</span>\n            <div onClick={handleLogout}>로그아웃</div>\n          </TitleContainer>\n          <NameContainer>\n            <span>{displayName}</span>\n          </NameContainer>\n          <InputContainer onSubmit={handleSubmit}>\n            <InfoContainer>\n              <InfoTitle>이름 변경</InfoTitle>\n              <InfoInput>\n                <EmailInput>\n                  <input\n                    disabled\n                    type=\"text\"\n                    onChange={handleInput}\n                    name=\"email\"\n                    value={emailValue}\n                    placeholder=\"이메일을 입력해 주세요.\"\n                  />\n                </EmailInput>\n                <NameInput isValid={SCValidation}>\n                  <input\n                    type=\"text\"\n                    onChange={handleInput}\n                    name=\"name\"\n                    value={nameValue}\n                    placeholder=\"이름을 입력해 주세요.\"\n                  />\n\n                  <ErrIndicator>\n                    <span>{SCValidation}</span>\n                  </ErrIndicator>\n                </NameInput>\n              </InfoInput>\n            </InfoContainer>\n            {/* <PasswordContainer>\n              <PasswordTitle>비밀번호 변경</PasswordTitle>\n              <PasswordInput>\n                <OldPassInput isValid={oldPassErr || name}>\n                  <input\n                    type={oldPassEye ? \"text\" : \"password\"}\n                    onChange={e => handleInput(e)}\n                    name=\"oldPass\"\n                    value={oldPassValue}\n                    placeholder=\"기존 비밀번호를 입력해주세요.\"\n                  />\n                  <ErrIndicator>\n                    <span>{name ? \"\" : oldPassErr}</span>\n                  </ErrIndicator>\n                  <ErrIndicator>\n                    {name && <span>비밀번호가 일치하지 않습니다.</span>}\n                  </ErrIndicator>\n                  {oldPassValue && oldPassEye && (\n                    <OldPassVisible onClick={oldEyeIcon}>\n                      <Visibility />\n                    </OldPassVisible>\n                  )}\n                  {oldPassValue && !oldPassEye && (\n                    <OldPassVisible onClick={oldEyeIcon}>\n                      <VisibilityOff />\n                    </OldPassVisible>\n                  )}\n                </OldPassInput>\n                <NewPassInput isValid={newPassErr}>\n                  <input\n                    type={newPassEye ? \"text\" : \"password\"}\n                    onChange={handleInput}\n                    name=\"newPass\"\n                    value={newPassValue}\n                    placeholder=\"새로운 비밀번호를 입력해주세요.\"\n                  />\n                  <ErrIndicator>\n                    <span>{newPassErr}</span>\n                  </ErrIndicator>\n                  {newPassValue && newPassEye && (\n                    <NewPassVisible onClick={newEyeIcon}>\n                      <Visibility />\n                    </NewPassVisible>\n                  )}\n                  {newPassValue && !newPassEye && (\n                    <NewPassVisible onClick={newEyeIcon}>\n                      <VisibilityOff />\n                    </NewPassVisible>\n                  )}\n                </NewPassInput>\n                <ConfirmPassInput isValid={confirmPassErr || checkConfirmPass}>\n                  <input\n                    type={confirmPassEye ? \"text\" : \"password\"}\n                    onChange={handleInput}\n                    name=\"confirmPass\"\n                    value={confirmPassValue}\n                    placeholder=\"새로운 비밀번호를 다시 입력해주세요.\"\n                  />\n                  <ErrIndicator>\n                    <span>{confirmPassErr || checkConfirmPass}</span>\n                  </ErrIndicator>\n                  {confirmPassValue && confirmPassEye && (\n                    <ConfirmPassVisible onClick={confirmEyeIcon}>\n                      <Visibility />\n                    </ConfirmPassVisible>\n                  )}\n                  {confirmPassValue && !confirmPassEye && (\n                    <ConfirmPassVisible onClick={confirmEyeIcon}>\n                      <VisibilityOff />\n                    </ConfirmPassVisible>\n                  )}\n                </ConfirmPassInput>\n              </PasswordInput>\n              // <ButtonContainer\n              //   disabled={!isTyped}\n              //   isValid={isTyped}\n              //   onClick={handleSubmit}\n              // >\n              //   저장\n              // </ButtonContainer>\n            </PasswordContainer> */}\n            <ButtonContainer\n              disabled={!isTyped}\n              isValid={isTyped}\n              onClick={handleSubmit}\n            >\n              저장\n            </ButtonContainer>\n          </InputContainer>\n          <Snackbar\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"right\"\n            }}\n            open={snackbar}\n            autoHideDuration={3000}\n          >\n            <SnackbarContent\n              message={`프로필 수정이 완료 되었습니다.`}\n              style={{\n                backgroundColor: \"#757575\"\n              }}\n            />\n          </Snackbar>\n        </ProfilePageWrap>\n      </Container>\n    );\n  }\n}\n\nexport default withRouter(Profile);\n\nconst OldPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst NewPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst ConfirmPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst Container = styled.main`\n  min-height: 700px;\n  min-width: 1400px;\n  display: flex;\n  padding: 24px;\n  @media (max-width: 500px) {\n    min-width: 300px;\n    padding: 0px;\n  }\n`;\n\nconst ProfilePageWrap = styled.section`\n  width: 100%;\n  margin: 20px 0px 0px 0px;\n  @media (max-width: 500px) {\n    margin: 80px 0px 0px 0px;\n  }\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-bottom: 20px;\n  }\n  span {\n    font-weight: 300;\n    font-size: 34px;\n    color: #96a9cf;\n    @media (max-width: 500px) {\n      font-size: 28px;\n      margin-left: 20px;\n    }\n  }\n\n  div {\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 700;\n    letter-spacing: 0.08em;\n    text-align: left;\n    white-space: nowrap;\n    cursor: pointer;\n    @media (max-width: 500px) {\n      margin-right: 20px;\n    }\n  }\n`;\n\nconst NameContainer = styled.div`\n  margin: 50px 0px 0px 120px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 300px;\n  @media (max-width: 500px) {\n    width: 100%;\n    margin: 100px 0px 0px 0px;\n    display: flex;\n    justify-content: center;\n  }\n  span {\n    font-weight: bold;\n    font-size: 50px;\n    color: #96a9cf;\n    line-height: 130%;\n    @media (max-width: 500px) {\n      font-size: 42px;\n    }\n  }\n`;\n\nconst InputContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-top: 100px;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-top: 40px;\n  }\n`;\n\nconst InfoContainer = styled.div``;\n\nconst InfoTitle = styled.div``;\n\nconst InfoInput = styled.div`\n  ${({ theme }) => theme.flex(\"\", \"\", \"column\")}\n`;\n\nconst EmailInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #f5f5f5;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst NameInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst PasswordContainer = styled.div`\n  margin-left: 80px;\n`;\n\nconst PasswordTitle = styled.div``;\n\nconst PasswordInput = styled.div`\n  ${({ theme }) => theme.flex(\"\", \"\", \"column\")}\n`;\n\nconst OldPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst NewPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst ConfirmPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst ButtonContainer = styled.button`\n  margin-left: 190px;\n  margin-top: 100px;\n  height: 36px;\n  width: 156px;\n  font-weight: bold;\n  font-size: 14px;\n  box-shadow: 0px 2px 4px rgba(66, 66, 66, 0.14),\n    0px 3px 4px rgba(66, 66, 66, 0.12), 0px 1px 5px rgba(66, 66, 66, 0.2);\n  border-radius: 4px;\n  color: white;\n  cursor: pointer;\n  background-color: ${({ isValid }) => (isValid ? \"#212121\" : \"#bdbdbd\")};\n  align-self: flex-end;\n  margin-top: 200px;\n  margin-right: 100px;\n  @media (max-width: 500px) {\n    margin-top: 50px;\n  }\n`;\n\nconst ErrIndicator = styled.div`\n  margin: 1px 0 0 8px;\n  span {\n    position: absolute;\n    font-weight: bold;\n    font-size: 13px;\n    color: #e64a19;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}