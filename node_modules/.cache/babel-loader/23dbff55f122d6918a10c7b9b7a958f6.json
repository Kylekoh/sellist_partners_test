{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: #3c66ba;\\n  overflow: hidden;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import{Snackbar}from\"@material-ui/core\";import{SnackbarContent}from\"@material-ui/core\";import ResetPw from\"../Components/resetPw/ResetPw\";import{tokenApi,TOKEN}from\"../Config/urls\";import Img1 from\"../Images/MaskGroup.png\";import Img2 from\"../Images/MaskGroup2.png\";function ResetPwPage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),valid=_useState2[0],setvalid=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var url=props.location.search;var i=url.indexOf(\"=\");var token=url.slice(i+1,url.length);function checkIfTokenValid(){var formData=new FormData();formData.append(\"token\",token);fetch(tokenApi,{method:\"POST\",headers:{Authorization:TOKEN},body:formData}).then(function(res){return res.json();}).then(function(res){if(res.success===1){setvalid(true);}else{setvalid(false);setOpen(true);setTimeout(function(){props.history.push(\"/\");},3500);}});}useEffect(function(){checkIfTokenValid();});if(valid){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(ImgRight,{src:Img2}),/*#__PURE__*/React.createElement(ImgLeft,{src:Img1}),/*#__PURE__*/React.createElement(ResetPw,{props:props,token:token}));}return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:\"center\",horizontal:\"center\"},open:open},/*#__PURE__*/React.createElement(SnackbarContent,{message:\"\\uB9C1\\uD06C\\uC758 \\uC720\\uD6A8\\uAE30\\uAC04\\uC774 \\uB9CC\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",style:{backgroundColor:\"#757575\"}})));}export default ResetPwPage;var Container=styled.section(_templateObject());var ImgRight=styled.img(_templateObject2(),function(_ref){var theme=_ref.theme;return theme.imgRight;});var ImgLeft=styled.img(_templateObject3(),function(_ref2){var theme=_ref2.theme;return theme.imgLeft;});","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/src/Pages/ResetPwPage.js"],"names":["React","useState","useEffect","styled","Snackbar","SnackbarContent","ResetPw","tokenApi","TOKEN","Img1","Img2","ResetPwPage","props","valid","setvalid","open","setOpen","url","location","search","i","indexOf","token","slice","length","checkIfTokenValid","formData","FormData","append","fetch","method","headers","Authorization","body","then","res","json","success","setTimeout","history","push","vertical","horizontal","backgroundColor","Container","section","ImgRight","img","theme","imgRight","ImgLeft","imgLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport ResetPw from \"../Components/resetPw/ResetPw\";\nimport { tokenApi, TOKEN } from \"../Config/urls\";\nimport Img1 from \"../Images/MaskGroup.png\";\nimport Img2 from \"../Images/MaskGroup2.png\";\n\nfunction ResetPwPage(props) {\n  const [valid, setvalid] = useState(false);\n  const [open, setOpen] = useState(false);\n\n  let url = props.location.search;\n  let i = url.indexOf(\"=\");\n  let token = url.slice(i + 1, url.length);\n\n  function checkIfTokenValid() {\n    const formData = new FormData();\n    formData.append(\"token\", token);\n    fetch(tokenApi, {\n      method: \"POST\",\n      headers: {\n        Authorization: TOKEN\n      },\n      body: formData\n    })\n      .then(res => res.json())\n      .then(res => {\n        if (res.success === 1) {\n          setvalid(true);\n        } else {\n          setvalid(false);\n          setOpen(true);\n          setTimeout(() => {\n            props.history.push(\"/\");\n          }, 3500);\n        }\n      });\n  }\n\n  useEffect(() => {\n    checkIfTokenValid();\n  });\n\n  if (valid) {\n    return (\n      <Container>\n        <ImgRight src={Img2} />\n        <ImgLeft src={Img1} />\n        <ResetPw props={props} token={token} />\n      </Container>\n    );\n  }\n  return (\n    <Container>\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"center\",\n          horizontal: \"center\"\n        }}\n        open={open}\n      >\n        <SnackbarContent\n          message=\"링크의 유효기간이 만료되었습니다.\"\n          style={{\n            backgroundColor: \"#757575\"\n          }}\n        />\n      </Snackbar>\n    </Container>\n  );\n}\n\nexport default ResetPwPage;\n\nconst Container = styled.section`\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  background-color: #3c66ba;\n  overflow: hidden;\n`;\n\nconst ImgRight = styled.img`\n  ${({ theme }) => theme.imgRight}\n`;\n\nconst ImgLeft = styled.img`\n  ${({ theme }) => theme.imgLeft}\n`;\n"]},"metadata":{},"sourceType":"module"}