{"ast":null,"code":"var _jsxFileName = \"/Users/merchsquare/Desktop/Kyle/sellist-partners/src/Pages/Profile/Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport Visibility from \"../../Images/Visibility\";\nimport VisibilityOff from \"../../Images/VisibilityOff\";\nimport { updateUserInfo, headers, getUserInfo } from \"../../Config/urls\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { withRouter } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ButtonModal from \"./Components/ButtonModal\";\nimport DeleteParentModal from \"../Order/Components/DeleteParentModal\";\nimport DeletedSnackBar from \"../Order/Components/DeletedSnackBar\";\n\nfunction Profile() {\n  const email = localStorage.getItem(\"email\");\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [snackbar, setSnackbar] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [inputEmail, setInputEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [isNameValid, setIsNameValid] = useState(true);\n  const del = useSelector(store => store.deleteReducer);\n  const deleted = useSelector(store => store.confirmDeleteReducer);\n  const dispatch = useDispatch(); // const {\n  //   emailValue,\n  //   nameValue,\n  //   oldPassValue,\n  //   newPassValue,\n  //   confirmPassValue\n  // } = input;\n  // const handleChangeName = async () => {\n  //   await axios.post(updateUserInfo, nameData, {\n  //     headers\n  //   });\n  // };\n  // ------Name Validation------\n  // const regName = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;\n  // const SCValidation =\n  //   nameValue && !regName.test(nameValue)\n  //     ? \"특수문자 및 숫자는 입력하실수 없습니다.\"\n  //     : \"\";\n  // const nameValidation = nameValue.length > 0;\n  // const sameName = nameValue === displayName;\n  // ----------------------------\n  // const handleInput = e => {\n  //   e.preventDefault();\n  //   const { name, value } = e.target;\n  //   setInput({\n  //     ...input,\n  //     [`${name}Value`]: value\n  //   });\n  //   const validator = {\n  //     oldPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\",\n  //     newPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\",\n  //     confirmPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\"\n  //   };\n  //   setErr({\n  //     ...err,\n  //     [`${name}Err`]: validator[name]\n  //   });\n  // };\n\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(getUserInfo, {\n          headers,\n          params: {\n            email,\n            token: accessToken\n          }\n        });\n        setInputEmail(data.data.user_data.email);\n        setName(data.data.user_data.name);\n        setDisplayName(data.data.user_data.name);\n      } catch (err) {\n        console.log(\"겟유저데이터 에러 확인\", err);\n      }\n    };\n\n    getUserData();\n  }, []);\n  useEffect(() => {\n    const regName = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;\n    const SCValidation = name && !regName.test(name) ? \"특수문자 및 숫자는 입력하실수 없습니다.\" : \"\";\n    console.log(\"밸리데이션\", SCValidation);\n    const nameValidation = name.length > 0;\n    const sameName = name === displayName; // ----------------------------\n  }, [name]);\n\n  const handleInputChange = e => {\n    setName(e.target.value);\n  }; // 저장버튼\n\n\n  const handleSubmit = async e => {\n    console.log(\"이기어기어 1111\");\n\n    try {\n      const nameData = qs.stringify({\n        email,\n        token: accessToken,\n        name: name\n      });\n      const data = await axios.post(updateUserInfo, nameData, {\n        headers\n      });\n      console.log(\"데이터 결과\", data);\n    } catch (error) {\n      console.log(\"Name Update error\", error);\n    }\n\n    console.log(\"이기어기어 2222\");\n    setSnackbar(true); //snackbar open\n\n    setTimeout(() => {\n      setSnackbar(false);\n    }, 15000); // if (!checkOldPw && oldPassRequire) {\n    //   console.log(\"여기여기222\");\n    //   e.preventDefault();\n    //   setName(true);\n    // }\n    // if (\n    //   checkOldPw &&\n    //   oldPassRequire &&\n    //   newPassRequire &&\n    //   confirmPassRequire &&\n    //   !checkPassValidation\n    // ) {\n    //   e.preventDefault();\n    //   setModal(true);\n    //   console.log(\"여기여기333\");\n    // }\n  }; // 로그아웃\n\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"new_user\");\n    localStorage.removeItem(\"toggle\");\n    window.location.href = \"/\";\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 5\n    }\n  }, del && /*#__PURE__*/React.createElement(DeleteParentModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }), deleted && /*#__PURE__*/React.createElement(DeletedSnackBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(ProfilePageWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TitleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, \"\\uD504\\uB85C\\uD544\"), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, \"\\uB85C\\uADF8\\uC544\\uC6C3\")), /*#__PURE__*/React.createElement(NameContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, displayName)), /*#__PURE__*/React.createElement(InputContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InfoContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InfoTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"\\uC774\\uB984 \\uBCC0\\uACBD\"), /*#__PURE__*/React.createElement(InfoInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(EmailInput, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    disabled: true,\n    type: \"text\",\n    name: \"inputEmail\",\n    value: inputEmail,\n    placeholder: \"\\uC774\\uBA54\\uC77C\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(NameInput, {\n    isValid: isNameValid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleInputChange,\n    name: \"name\",\n    value: name,\n    placeholder: \"\\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }), isNameValid ? /*#__PURE__*/React.createElement(ErrIndicator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 21\n    }\n  }, \"\\uD2B9\\uC218\\uBB38\\uC790 \\uBC0F \\uC22B\\uC790\\uB294 \\uC785\\uB825\\uD558\\uC2E4\\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")) : null))), /*#__PURE__*/React.createElement(ButtonContainer, {\n    disabled: isNameValid,\n    isValid: isNameValid,\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"\\uC800\\uC7A5\")), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    open: snackbar,\n    autoHideDuration: 3000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SnackbarContent, {\n    message: `프로필 수정이 완료 되었습니다.`,\n    style: {\n      backgroundColor: \"#757575\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default withRouter(Profile);\nconst OldPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\nconst NewPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\nconst ConfirmPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\nconst Container = styled.main`\n  min-height: 700px;\n  min-width: 1400px;\n  display: flex;\n  padding: 24px;\n  @media (max-width: 500px) {\n    min-width: 300px;\n    padding: 0px;\n  }\n`;\nconst ProfilePageWrap = styled.section`\n  width: 100%;\n  margin: 20px 0px 0px 0px;\n  @media (max-width: 500px) {\n    margin: 80px 0px 0px 0px;\n  }\n`;\nconst TitleContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-bottom: 20px;\n  }\n  span {\n    font-weight: 300;\n    font-size: 34px;\n    color: #96a9cf;\n    @media (max-width: 500px) {\n      font-size: 28px;\n      margin-left: 20px;\n    }\n  }\n\n  div {\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 700;\n    letter-spacing: 0.08em;\n    text-align: left;\n    white-space: nowrap;\n    cursor: pointer;\n    @media (max-width: 500px) {\n      margin-right: 20px;\n    }\n  }\n`;\nconst NameContainer = styled.div`\n  margin: 50px 0px 0px 120px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 300px;\n  @media (max-width: 500px) {\n    width: 100%;\n    margin: 100px 0px 0px 0px;\n    display: flex;\n    justify-content: center;\n  }\n  span {\n    font-weight: bold;\n    font-size: 50px;\n    color: #96a9cf;\n    @media (max-width: 500px) {\n      font-size: 42px;\n    }\n  }\n`;\nconst InputContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-top: 100px;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-top: 40px;\n  }\n`;\nconst InfoContainer = styled.div``;\nconst InfoTitle = styled.div``;\nconst InfoInput = styled.div`\n  ${({\n  theme\n}) => theme.flex(\"\", \"\", \"column\")}\n`;\nconst EmailInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #f5f5f5;\n    border: ${({\n  isValid\n}) => isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\nconst NameInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({\n  isValid\n}) => isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\nconst PasswordContainer = styled.div`\n  margin-left: 80px;\n`;\nconst PasswordTitle = styled.div``;\nconst PasswordInput = styled.div`\n  ${({\n  theme\n}) => theme.flex(\"\", \"\", \"column\")}\n`;\nconst OldPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({\n  isValid\n}) => isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\nconst NewPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({\n  isValid\n}) => isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\nconst ConfirmPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({\n  isValid\n}) => isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\nconst ButtonContainer = styled.button`\n  margin-left: 190px;\n  margin-top: 100px;\n  height: 36px;\n  width: 156px;\n  font-weight: bold;\n  font-size: 14px;\n  box-shadow: 0px 2px 4px rgba(66, 66, 66, 0.14),\n    0px 3px 4px rgba(66, 66, 66, 0.12), 0px 1px 5px rgba(66, 66, 66, 0.2);\n  border-radius: 4px;\n  color: white;\n  cursor: pointer;\n  background-color: ${({\n  isValid\n}) => isValid ? \"#212121\" : \"#bdbdbd\"};\n  align-self: flex-end;\n  margin-top: 200px;\n  margin-right: 100px;\n  @media (max-width: 500px) {\n    margin-top: 50px;\n  }\n`;\nconst ErrIndicator = styled.div`\n  margin: 5px 0 0 8px;\n  span {\n    position: absolute;\n    font-weight: bold;\n    font-size: 13px;\n    color: #e64a19;\n  }\n`;","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners/src/Pages/Profile/Profile.js"],"names":["React","useState","useEffect","styled","Snackbar","SnackbarContent","Visibility","VisibilityOff","updateUserInfo","headers","getUserInfo","axios","qs","withRouter","useSelector","useDispatch","ButtonModal","DeleteParentModal","DeletedSnackBar","Profile","email","localStorage","getItem","accessToken","displayName","setDisplayName","snackbar","setSnackbar","modal","setModal","inputEmail","setInputEmail","name","setName","isNameValid","setIsNameValid","del","store","deleteReducer","deleted","confirmDeleteReducer","dispatch","getUserData","data","get","params","token","user_data","err","console","log","regName","SCValidation","test","nameValidation","length","sameName","handleInputChange","e","target","value","handleSubmit","nameData","stringify","post","error","setTimeout","handleLogout","removeItem","window","location","href","vertical","horizontal","backgroundColor","OldPassVisible","div","NewPassVisible","ConfirmPassVisible","Container","main","ProfilePageWrap","section","TitleContainer","NameContainer","InputContainer","form","InfoContainer","InfoTitle","InfoInput","theme","flex","EmailInput","isValid","NameInput","PasswordContainer","PasswordTitle","PasswordInput","OldPassInput","NewPassInput","ConfirmPassInput","ButtonContainer","button","ErrIndicator"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport Visibility from \"../../Images/Visibility\";\nimport VisibilityOff from \"../../Images/VisibilityOff\";\nimport { updateUserInfo, headers, getUserInfo } from \"../../Config/urls\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { withRouter } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ButtonModal from \"./Components/ButtonModal\";\nimport DeleteParentModal from \"../Order/Components/DeleteParentModal\";\nimport DeletedSnackBar from \"../Order/Components/DeletedSnackBar\";\n\nfunction Profile() {\n  const email = localStorage.getItem(\"email\");\n  const accessToken = localStorage.getItem(\"access_token\");\n  const [displayName, setDisplayName] = useState(\"\");\n\n  const [snackbar, setSnackbar] = useState(false);\n  const [modal, setModal] = useState(false);\n  const [inputEmail, setInputEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [isNameValid, setIsNameValid] = useState(true);\n\n  const del = useSelector(store => store.deleteReducer);\n  const deleted = useSelector(store => store.confirmDeleteReducer);\n  const dispatch = useDispatch();\n\n  // const {\n  //   emailValue,\n  //   nameValue,\n  //   oldPassValue,\n  //   newPassValue,\n  //   confirmPassValue\n  // } = input;\n\n  // const handleChangeName = async () => {\n  //   await axios.post(updateUserInfo, nameData, {\n  //     headers\n  //   });\n  // };\n\n  // ------Name Validation------\n  // const regName = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;\n  // const SCValidation =\n  //   nameValue && !regName.test(nameValue)\n  //     ? \"특수문자 및 숫자는 입력하실수 없습니다.\"\n  //     : \"\";\n  // const nameValidation = nameValue.length > 0;\n  // const sameName = nameValue === displayName;\n  // ----------------------------\n\n  // const handleInput = e => {\n  //   e.preventDefault();\n  //   const { name, value } = e.target;\n  //   setInput({\n  //     ...input,\n  //     [`${name}Value`]: value\n  //   });\n\n  //   const validator = {\n  //     oldPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\",\n  //     newPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\",\n  //     confirmPass:\n  //       value.length < 8 && value.length > 0\n  //         ? \"비밀번호는 최소 8자리 이상이어야 합니다.\"\n  //         : \"\"\n  //   };\n\n  //   setErr({\n  //     ...err,\n  //     [`${name}Err`]: validator[name]\n  //   });\n  // };\n\n  useEffect(() => {\n    const getUserData = async () => {\n      try {\n        const { data } = await axios.get(getUserInfo, {\n          headers,\n          params: {\n            email,\n            token: accessToken\n          }\n        });\n        setInputEmail(data.data.user_data.email);\n        setName(data.data.user_data.name);\n        setDisplayName(data.data.user_data.name);\n      } catch (err) {\n        console.log(\"겟유저데이터 에러 확인\", err);\n      }\n    };\n    getUserData();\n  }, []);\n\n  useEffect(() => {\n    const regName = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |\\*]+$/;\n    const SCValidation =\n      name && !regName.test(name)\n        ? \"특수문자 및 숫자는 입력하실수 없습니다.\"\n        : \"\";\n\n    console.log(\"밸리데이션\", SCValidation);\n    const nameValidation = name.length > 0;\n    const sameName = name === displayName;\n\n    // ----------------------------\n  }, [name]);\n\n  const handleInputChange = e => {\n    setName(e.target.value);\n  };\n\n  // 저장버튼\n  const handleSubmit = async e => {\n    console.log(\"이기어기어 1111\");\n\n    try {\n      const nameData = qs.stringify({\n        email,\n        token: accessToken,\n        name: name\n      });\n\n      const data = await axios.post(updateUserInfo, nameData, {\n        headers\n      });\n      console.log(\"데이터 결과\", data);\n    } catch (error) {\n      console.log(\"Name Update error\", error);\n    }\n\n    console.log(\"이기어기어 2222\");\n\n    setSnackbar(true); //snackbar open\n    setTimeout(() => {\n      setSnackbar(false);\n    }, 15000);\n\n    // if (!checkOldPw && oldPassRequire) {\n    //   console.log(\"여기여기222\");\n    //   e.preventDefault();\n    //   setName(true);\n    // }\n    // if (\n    //   checkOldPw &&\n    //   oldPassRequire &&\n    //   newPassRequire &&\n    //   confirmPassRequire &&\n    //   !checkPassValidation\n    // ) {\n    //   e.preventDefault();\n    //   setModal(true);\n    //   console.log(\"여기여기333\");\n    // }\n  };\n\n  // 로그아웃\n  const handleLogout = () => {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"email\");\n    localStorage.removeItem(\"new_user\");\n    localStorage.removeItem(\"toggle\");\n    window.location.href = \"/\";\n  };\n\n  return (\n    <Container>\n      {del && <DeleteParentModal />}\n      {deleted && <DeletedSnackBar />}\n\n      <ProfilePageWrap>\n        <TitleContainer>\n          <span>프로필</span>\n          <div onClick={handleLogout}>로그아웃</div>\n        </TitleContainer>\n        <NameContainer>\n          <span>{displayName}</span>\n        </NameContainer>\n        <InputContainer>\n          <InfoContainer>\n            <InfoTitle>이름 변경</InfoTitle>\n            <InfoInput>\n              <EmailInput>\n                <input\n                  disabled\n                  type=\"text\"\n                  name=\"inputEmail\"\n                  value={inputEmail}\n                  placeholder=\"이메일을 입력해 주세요.\"\n                />\n              </EmailInput>\n              <NameInput isValid={isNameValid}>\n                <input\n                  type=\"text\"\n                  onChange={handleInputChange}\n                  name=\"name\"\n                  value={name}\n                  placeholder=\"이름을 입력해 주세요.\"\n                />\n                {isNameValid ? (\n                  <ErrIndicator>\n                    <span>특수문자 및 숫자는 입력하실수 없습니다.</span>\n                  </ErrIndicator>\n                ) : null}\n              </NameInput>\n            </InfoInput>\n          </InfoContainer>\n          <ButtonContainer\n            disabled={isNameValid}\n            isValid={isNameValid}\n            onClick={handleSubmit}\n          >\n            저장\n          </ButtonContainer>\n        </InputContainer>\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"right\"\n          }}\n          open={snackbar}\n          autoHideDuration={3000}\n        >\n          <SnackbarContent\n            message={`프로필 수정이 완료 되었습니다.`}\n            style={{\n              backgroundColor: \"#757575\"\n            }}\n          />\n        </Snackbar>\n      </ProfilePageWrap>\n    </Container>\n  );\n}\n\nexport default withRouter(Profile);\n\nconst OldPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst NewPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst ConfirmPassVisible = styled.div`\n  right: 5px;\n  top: 25px;\n  position: absolute;\n`;\n\nconst Container = styled.main`\n  min-height: 700px;\n  min-width: 1400px;\n  display: flex;\n  padding: 24px;\n  @media (max-width: 500px) {\n    min-width: 300px;\n    padding: 0px;\n  }\n`;\n\nconst ProfilePageWrap = styled.section`\n  width: 100%;\n  margin: 20px 0px 0px 0px;\n  @media (max-width: 500px) {\n    margin: 80px 0px 0px 0px;\n  }\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-bottom: 20px;\n  }\n  span {\n    font-weight: 300;\n    font-size: 34px;\n    color: #96a9cf;\n    @media (max-width: 500px) {\n      font-size: 28px;\n      margin-left: 20px;\n    }\n  }\n\n  div {\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 700;\n    letter-spacing: 0.08em;\n    text-align: left;\n    white-space: nowrap;\n    cursor: pointer;\n    @media (max-width: 500px) {\n      margin-right: 20px;\n    }\n  }\n`;\n\nconst NameContainer = styled.div`\n  margin: 50px 0px 0px 120px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: 300px;\n  @media (max-width: 500px) {\n    width: 100%;\n    margin: 100px 0px 0px 0px;\n    display: flex;\n    justify-content: center;\n  }\n  span {\n    font-weight: bold;\n    font-size: 50px;\n    color: #96a9cf;\n    @media (max-width: 500px) {\n      font-size: 42px;\n    }\n  }\n`;\n\nconst InputContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  margin-top: 100px;\n  justify-content: center;\n  align-items: center;\n  @media (max-width: 500px) {\n    margin-top: 40px;\n  }\n`;\n\nconst InfoContainer = styled.div``;\n\nconst InfoTitle = styled.div``;\n\nconst InfoInput = styled.div`\n  ${({ theme }) => theme.flex(\"\", \"\", \"column\")}\n`;\n\nconst EmailInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #f5f5f5;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst NameInput = styled.div`\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \"  0.5px solid #bdbdbd \"};\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst PasswordContainer = styled.div`\n  margin-left: 80px;\n`;\n\nconst PasswordTitle = styled.div``;\n\nconst PasswordInput = styled.div`\n  ${({ theme }) => theme.flex(\"\", \"\", \"column\")}\n`;\n\nconst OldPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst NewPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst ConfirmPassInput = styled.div`\n  position: relative;\n  input {\n    height: 40px;\n    width: 350px;\n    background: #ffffff;\n    border: ${({ isValid }) =>\n      isValid ? \"1px solid red \" : \" 0.5px solid #bdbdbd \"};\n    box-sizing: border-box;\n    border-radius: 6px;\n    margin-top: 30px;\n    padding: 14px 0 16px 13px;\n    font-size: 16px;\n  }\n`;\n\nconst ButtonContainer = styled.button`\n  margin-left: 190px;\n  margin-top: 100px;\n  height: 36px;\n  width: 156px;\n  font-weight: bold;\n  font-size: 14px;\n  box-shadow: 0px 2px 4px rgba(66, 66, 66, 0.14),\n    0px 3px 4px rgba(66, 66, 66, 0.12), 0px 1px 5px rgba(66, 66, 66, 0.2);\n  border-radius: 4px;\n  color: white;\n  cursor: pointer;\n  background-color: ${({ isValid }) => (isValid ? \"#212121\" : \"#bdbdbd\")};\n  align-self: flex-end;\n  margin-top: 200px;\n  margin-right: 100px;\n  @media (max-width: 500px) {\n    margin-top: 50px;\n  }\n`;\n\nconst ErrIndicator = styled.div`\n  margin: 5px 0 0 8px;\n  span {\n    position: absolute;\n    font-weight: bold;\n    font-size: 13px;\n    color: #e64a19;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}