{"ast":null,"code":"var _jsxFileName = \"/Users/merchsquare/Desktop/Kyle/sellist-partners/src/Pages/CreateEvent/CreateEventDate/CreateEventDate.js\";\n// 기본\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Prompt } from \"react-router-dom\"; //라이브러리\n\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport axios from \"axios\"; // 컴포넌트\n\nimport DateRangePicker from \"./DateRangePicker\";\nimport BeforeSelectDate from \"./BeforeSelectDate\";\nimport AfterSelectDate from \"./AfterSelectDate\";\nimport CheckSponsoredEventModal from \"./CheckSonsoredEventModal\";\nimport { headers, createEventAPI } from \"../../Config/urls\";\nimport { openModal } from \"../../../modules/CheckModalModule\";\n\nfunction CreateEventDate(props) {\n  const email = localStorage.getItem(\"email\");\n  const accessToken = localStorage.getItem(\"access_token\");\n  const username = useSelector(store => store.usernameReducer);\n  const userImage = useSelector(store => store.profileimgReducer);\n  const eventname = useSelector(store => store.eventnameReducer);\n  const eventimg = useSelector(store => store.eventimgReducer);\n  const eventUrl = useSelector(store => store.eventurlReducer);\n  const shoppingUrl = useSelector(store => store.shoppingurlReducer);\n  const originalPrice = useSelector(store => store.originalpriceReducer);\n  const newPrice = useSelector(store => store.newpriceReducer);\n  const durationStart = useSelector(store => store.durationStartReducer);\n  const durationEnd = useSelector(store => store.durationEndReducer);\n  const category = useSelector(store => store.eventcategoryReducer);\n  const isCheckModal = useSelector(store => store.checkModalReducer);\n  const notEnoughPoint = useSelector(store => store.notenoughReducer);\n  const dispatch = useDispatch();\n  const sponsorStartDate = useSelector(store => store.sponsorStartDateReducer);\n  const sponsorEndDate = useSelector(store => store.sponsorEndDateReducer); // 01.19 새로 만든 것\n\n  const [confirm, setConfirm] = useState(false);\n  useEffect(() => {\n    if (notEnoughPoint) {\n      setConfirm(true);\n    } else {\n      setConfirm(false);\n    }\n  }, [notEnoughPoint]);\n  useEffect(() => {\n    console.log(\"크리에이트 데이트 유저 네임\", username);\n    console.log(\"크리에이트 데이트 이벤트 네임\", eventname);\n    console.log(\"체크 모달\", isCheckModal);\n    console.log(sponsorStartDate);\n    console.log(sponsorEndDate);\n  }, []); // 이벤트 생성 하는 함수\n\n  const handleCreateSponsoredEvent = async () => {\n    if (confirm) {\n      // 무료 이벤트 && 체트 통과 일 때\n      const formData = new FormData();\n      formData.append(\"event_image\", eventimg);\n      formData.append(\"user_image\", userImage);\n      formData.append(\"username\", username);\n      formData.append(\"event_name\", eventname);\n      formData.append(\"event_url\", eventUrl);\n      formData.append(\"event_external_link\", shoppingUrl);\n      formData.append(\"event_original_price\", originalPrice);\n      formData.append(\"event_sale_price\", newPrice);\n      formData.append(\"event_platform\", \"instagram\");\n      formData.append(\"event_duration\", `${format(durationStart, `MM/d`)} - ${format(durationEnd, `MM/d`)}`);\n      formData.append(\"event_category\", category); // formData.append(\"event_start\", startdate);\n      // formData.append(\"event_end\", enddate);\n\n      formData.append(); // 무료기 때문에 크레딧은 '0'로\n\n      formData.append(\"event_credit\", 0); // 무료일때 true 광고일때 : false\n\n      formData.append(\"evnet_free\", true); // 무료일때 : 1 , 광고일때 : 4\n\n      formData.append(\"event_type\", 1);\n      await axios.post(createEventAPI, formData, {\n        headers\n      }).then(res => {\n        if (res.data.success === 1) {\n          window.location.href = \"/Congrats\";\n        } else {\n          console.log(\"event not created\");\n        }\n      });\n    } else if (confirm) {// 스폰서드 이벤트 && 체크 통과 일 때\n      // window.location.href = \"/CreateEvent/CreateDate\";\n    } else {\n      // 체크 통과하지 못했을 때\n      dispatch(openModal(true));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CalendarWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CalendarContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TitleWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"\\uBAA8\\uB450\\uC758 \\uC140\\uB7EC\\uC5D0\\uC11C \\uD64D\\uBCF4\\uD558\\uC2E4 \\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694\")), /*#__PURE__*/React.createElement(ScheduleContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DateRangePicker, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(DateSelectContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TitleWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"\\uC120\\uD0DD\\uB41C \\uB0A0\\uC9DC\")), sponsorStartDate ? /*#__PURE__*/React.createElement(AfterSelectDate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 31\n    }\n  }) : /*#__PURE__*/React.createElement(BeforeSelectDate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 53\n    }\n  }))), /*#__PURE__*/React.createElement(ConfirmBtnWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmBtn, {\n    confirm: confirm,\n    onClick: () => {\n      handleCreateSponsoredEvent();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"\\uD655 \\uC778\")), isCheckModal && /*#__PURE__*/React.createElement(CheckSponsoredEventModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 24\n    }\n  }));\n}\n\nexport default CreateEventDate;\nconst Container = styled.main`\n  margin-top: 260px;\n\n  ${({\n  theme\n}) => theme.flex(\"flex-start\", \"flex-start\", \"column\")};\n\n  p {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 21px;\n    line-height: 25px;\n    color: #212121;\n    height: 40px;\n  }\n`;\nconst TitleWrap = styled.div`\n  ${({\n  theme\n}) => theme.flex(\"space-between\", \"space-between\", \"column\")};\n  @media screen and (min-width: 1200px) {\n    padding-bottom: 13px;\n  }\n`;\nconst Title = styled.span`\n  font-weight: 500;\n  font-size: 21px;\n  color: #212121;\n  margin-bottom: 15px;\n`;\nconst CalendarWrap = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\nconst CalendarContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-right: 120px;\n`;\nconst ScheduleContainer = styled.div``;\nconst DateSelectContainer = styled.div``;\nconst ConfirmBtnWrap = styled.div`\n  margin-top: 220px;\n  background: #f2f6ff;\n  ${({\n  theme\n}) => theme.flex(\"flex-start\", \"center\", \"row-reverse\")};\n  width: 100%;\n`;\nconst ConfirmBtn = styled.button`\n  width: 208px;\n  height: 36px;\n  border-radius: 4px;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  letter-spacing: 0.08em;\n  color: #ffffff;\n  background: ${({\n  confirm\n}) => confirm ? \"#212121\" : \"#BDBDBD\"};\n  cursor: ${({\n  confirm\n}) => confirm ? \"pointer\" : \"cursor\"};\n`;","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners/src/Pages/CreateEvent/CreateEventDate/CreateEventDate.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Prompt","format","styled","axios","DateRangePicker","BeforeSelectDate","AfterSelectDate","CheckSponsoredEventModal","headers","createEventAPI","openModal","CreateEventDate","props","email","localStorage","getItem","accessToken","username","store","usernameReducer","userImage","profileimgReducer","eventname","eventnameReducer","eventimg","eventimgReducer","eventUrl","eventurlReducer","shoppingUrl","shoppingurlReducer","originalPrice","originalpriceReducer","newPrice","newpriceReducer","durationStart","durationStartReducer","durationEnd","durationEndReducer","category","eventcategoryReducer","isCheckModal","checkModalReducer","notEnoughPoint","notenoughReducer","dispatch","sponsorStartDate","sponsorStartDateReducer","sponsorEndDate","sponsorEndDateReducer","confirm","setConfirm","console","log","handleCreateSponsoredEvent","formData","FormData","append","post","then","res","data","success","window","location","href","Container","main","theme","flex","TitleWrap","div","Title","span","CalendarWrap","CalendarContainer","ScheduleContainer","DateSelectContainer","ConfirmBtnWrap","ConfirmBtn","button"],"mappings":"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","sourcesContent":["// 기본\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Prompt } from \"react-router-dom\";\n//라이브러리\nimport { format } from \"date-fns\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n// 컴포넌트\nimport DateRangePicker from \"./DateRangePicker\";\nimport BeforeSelectDate from \"./BeforeSelectDate\";\nimport AfterSelectDate from \"./AfterSelectDate\";\nimport CheckSponsoredEventModal from \"./CheckSonsoredEventModal\";\nimport { headers, createEventAPI } from \"../../Config/urls\";\nimport { openModal } from \"../../../modules/CheckModalModule\";\n\nfunction CreateEventDate(props) {\n  const email = localStorage.getItem(\"email\");\n  const accessToken = localStorage.getItem(\"access_token\");\n  const username = useSelector(store => store.usernameReducer);\n  const userImage = useSelector(store => store.profileimgReducer);\n  const eventname = useSelector(store => store.eventnameReducer);\n  const eventimg = useSelector(store => store.eventimgReducer);\n\n  const eventUrl = useSelector(store => store.eventurlReducer);\n  const shoppingUrl = useSelector(store => store.shoppingurlReducer);\n  const originalPrice = useSelector(store => store.originalpriceReducer);\n  const newPrice = useSelector(store => store.newpriceReducer);\n  const durationStart = useSelector(store => store.durationStartReducer);\n  const durationEnd = useSelector(store => store.durationEndReducer);\n  const category = useSelector(store => store.eventcategoryReducer);\n  const isCheckModal = useSelector(store => store.checkModalReducer);\n\n  const notEnoughPoint = useSelector(store => store.notenoughReducer);\n  const dispatch = useDispatch();\n\n  const sponsorStartDate = useSelector(store => store.sponsorStartDateReducer);\n  const sponsorEndDate = useSelector(store => store.sponsorEndDateReducer);\n\n  // 01.19 새로 만든 것\n  const [confirm, setConfirm] = useState(false);\n\n  useEffect(() => {\n    if (notEnoughPoint) {\n      setConfirm(true);\n    } else {\n      setConfirm(false);\n    }\n  }, [notEnoughPoint]);\n\n  useEffect(() => {\n    console.log(\"크리에이트 데이트 유저 네임\", username);\n    console.log(\"크리에이트 데이트 이벤트 네임\", eventname);\n    console.log(\"체크 모달\", isCheckModal);\n    console.log(sponsorStartDate);\n    console.log(sponsorEndDate);\n  }, []);\n\n  // 이벤트 생성 하는 함수\n  const handleCreateSponsoredEvent = async () => {\n    if (confirm) {\n      // 무료 이벤트 && 체트 통과 일 때\n      const formData = new FormData();\n      formData.append(\"event_image\", eventimg);\n      formData.append(\"user_image\", userImage);\n      formData.append(\"username\", username);\n      formData.append(\"event_name\", eventname);\n      formData.append(\"event_url\", eventUrl);\n      formData.append(\"event_external_link\", shoppingUrl);\n      formData.append(\"event_original_price\", originalPrice);\n      formData.append(\"event_sale_price\", newPrice);\n      formData.append(\"event_platform\", \"instagram\");\n      formData.append(\n        \"event_duration\",\n        `${format(durationStart, `MM/d`)} - ${format(durationEnd, `MM/d`)}`\n      );\n      formData.append(\"event_category\", category);\n      // formData.append(\"event_start\", startdate);\n      // formData.append(\"event_end\", enddate);\n      formData.append();\n      // 무료기 때문에 크레딧은 '0'로\n      formData.append(\"event_credit\", 0);\n      // 무료일때 true 광고일때 : false\n      formData.append(\"evnet_free\", true);\n      // 무료일때 : 1 , 광고일때 : 4\n      formData.append(\"event_type\", 1);\n\n      await axios\n        .post(createEventAPI, formData, {\n          headers\n        })\n        .then(res => {\n          if (res.data.success === 1) {\n            window.location.href = \"/Congrats\";\n          } else {\n            console.log(\"event not created\");\n          }\n        });\n    } else if (confirm) {\n      // 스폰서드 이벤트 && 체크 통과 일 때\n      // window.location.href = \"/CreateEvent/CreateDate\";\n    } else {\n      // 체크 통과하지 못했을 때\n      dispatch(openModal(true));\n    }\n  };\n\n  return (\n    <Container>\n      <CalendarWrap>\n        <CalendarContainer>\n          <TitleWrap>\n            <Title>모두의 셀러에서 홍보하실 날짜를 선택해 주세요</Title>\n          </TitleWrap>\n          <ScheduleContainer>\n            <DateRangePicker />\n          </ScheduleContainer>\n        </CalendarContainer>\n        <DateSelectContainer>\n          <TitleWrap>\n            <Title>선택된 날짜</Title>\n          </TitleWrap>\n          {sponsorStartDate ? <AfterSelectDate /> : <BeforeSelectDate />}\n        </DateSelectContainer>\n      </CalendarWrap>\n      <ConfirmBtnWrap>\n        <ConfirmBtn\n          confirm={confirm}\n          onClick={() => {\n            handleCreateSponsoredEvent();\n          }}\n        >\n          확 인\n        </ConfirmBtn>\n      </ConfirmBtnWrap>\n      {isCheckModal && <CheckSponsoredEventModal />}\n    </Container>\n  );\n}\n\nexport default CreateEventDate;\n\nconst Container = styled.main`\n  margin-top: 260px;\n\n  ${({ theme }) => theme.flex(\"flex-start\", \"flex-start\", \"column\")};\n\n  p {\n    font-style: normal;\n    font-weight: 500;\n    font-size: 21px;\n    line-height: 25px;\n    color: #212121;\n    height: 40px;\n  }\n`;\n\nconst TitleWrap = styled.div`\n  ${({ theme }) => theme.flex(\"space-between\", \"space-between\", \"column\")};\n  @media screen and (min-width: 1200px) {\n    padding-bottom: 13px;\n  }\n`;\n\nconst Title = styled.span`\n  font-weight: 500;\n  font-size: 21px;\n  color: #212121;\n  margin-bottom: 15px;\n`;\n\nconst CalendarWrap = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst CalendarContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-right: 120px;\n`;\n\nconst ScheduleContainer = styled.div``;\n\nconst DateSelectContainer = styled.div``;\n\nconst ConfirmBtnWrap = styled.div`\n  margin-top: 220px;\n  background: #f2f6ff;\n  ${({ theme }) => theme.flex(\"flex-start\", \"center\", \"row-reverse\")};\n  width: 100%;\n`;\n\nconst ConfirmBtn = styled.button`\n  width: 208px;\n  height: 36px;\n  border-radius: 4px;\n  font-weight: bold;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: center;\n  letter-spacing: 0.08em;\n  color: #ffffff;\n  background: ${({ confirm }) => (confirm ? \"#212121\" : \"#BDBDBD\")};\n  cursor: ${({ confirm }) => (confirm ? \"pointer\" : \"cursor\")};\n`;\n"]},"metadata":{},"sourceType":"module"}