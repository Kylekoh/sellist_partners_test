{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 10%;\\n  height: 48px;\\n  border-radius: 4px;\\n  font-weight: bold;\\n  font-size: 14px;\\n  text-align: center;\\n  letter-spacing: 0.08em;\\n  color: #ffffff;\\n  cursor: pointer;\\n  \",\";\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  \",\"\\n  \",\"\\n  \",\"\\n  display: flex;\\n  flex-direction: column;\\n  padding-right: 16px;\\n  padding-left: 16px;\\n\\n  p {\\n    height: 10px;\\n    font-size: 14px;\\n    text-align: center;\\n    color: #424242;\\n    margin-bottom: 30px;\\n  }\\n  div {\\n    cursor: pointer;\\n  }\\n  .terms {\\n    margin-top: 5%;\\n    display: flex;\\n    justify-content: space-evenly;\\n    font-weight: bold;\\n    font-size: 12px;\\n    line-height: 14px;\\n    letter-spacing: 0.08em;\\n  }\\n  div {\\n    font-size: 12px;\\n    line-height: 10px;\\n    font-weight: bold;\\n    color: #212121;\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 10%;\\n  display: flex;\\n  flex-direction: column;\\n  padding-right: 16px;\\n  padding-left: 16px;\\n\\n  div {\\n    width: 100%;\\n    position: relative;\\n\\n    input {\\n      padding: 13px;\\n      width: 100%;\\n      height: 56px;\\n      background: white;\\n      font-size: 16px;\\n    }\\n\\n    .errorForEmail {\\n      \",\"\\n      \",\"\\n    }\\n\\n    .errorForName {\\n      \",\"\\n    }\\n\\n    .errorForPw {\\n      \",\"\\n    }\\n    .typingEmail {\\n      \",\"\\n    }\\n\\n    .typingName {\\n      \",\"\\n    }\\n\\n    .typingPw {\\n      \",\"\\n    }\\n    .inputIcon {\\n      left: 88%;\\n      bottom: 5%;\\n      position: absolute;\\n    }\\n  }\\n\\n  .emailError,\\n  .nameError,\\n  .passwordError {\\n    font-size: 13px;\\n    color: #e64a19;\\n    left: 2%;\\n  }\\n\\n  .name {\\n    \",\"\\n    \",\"\\n    \",\"\\n  }\\n\\n  .password {\\n    \",\"\\n    \",\"\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from\"react\";import styled from\"styled-components\";import{Snackbar}from\"@material-ui/core\";import{SnackbarContent}from\"@material-ui/core\";import{registerApi,TOKEN}from\"../../Config/urls\";import Close from\"../../Images/Close\";import Visiblility from\"../../Images/Visibility\";import VisibilityOff from\"../../Images/VisibilityOff\";function Register(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),pwvisibility=_useState2[0],setPwVisibility=_useState2[1];//eyeIcon 클릭시 password input type을 password또는text로 바꿔줍니다\nvar _useState3=useState({email:\"\",name:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error1=_useState6[0],setError1=_useState6[1];//이미 사용 중인 이메일 입니다. 다시 시도해 주세요. -email\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error2=_useState8[0],setError2=_useState8[1];//사용할 수 없는 이메일 형식입니다. -email\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),error3=_useState10[0],setError3=_useState10[1];//숫자나 특수문자( . 제외)는 포함될 수 없습니다. -name\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),error4=_useState12[0],setError4=_useState12[1];//비밀번호는 최소 8자 이상이어야 합니다. -pw\nvar _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),open=_useState14[0],setOpen=_useState14[1];//open === true 일때 snackbar가 열립니다\nvar emailFilled=state.email.length>0;var nameFilled=state.name.length>0;var pwFilled=state.password.length>0;var isRegisterBtnActive=!(state.name.length>0&&state.email.length>0&&state.password.length>0);var regEmail=\"/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i\";var regName=\"/^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |*]+$/\";//숫자나 특수문자( . 제외)는 포함될 수 없습니다.\nvar regPassword=\"/^[a-zA-Z0-9!@#$%^&*)(+=._-]{8,}$/\";//영문대소문,숫자,특수문자,최소8자\nfunction inputhandler(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setError1(false);if(name===\"email\"&&regEmail.test(value)){setError2(false);}if(name===\"name\"&&regName.test(value)){setError3(false);}if(name===\"password\"&&regPassword.test(value)){setError4(false);}setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},name,value));});}function btnRegister(e){if(e.which===13||e.nativeEvent.type===\"click\"){var email=state.email,name=state.name,password=state.password;if(!regEmail.test(email)){setError2(true);}if(!regName.test(name)){setError3(true);}if(!regPassword.test(password)){setError4(true);}if(regEmail.test(email)&&regName.test(name)&&regPassword.test(password)){getFetch();}}}function getFetch(){var email=state.email,name=state.name,password=state.password;var formData=new FormData();formData.append(\"email\",email);formData.append(\"name\",name);formData.append(\"password\",password);fetch(registerApi,{method:\"post\",headers:{Authorization:TOKEN},body:formData}).then(function(res){return res.json();}).then(function(res){if(res.success){var _res$data=res.data,_email=_res$data.email,access_token=_res$data.access_token;localStorage.setItem(\"access_token\",access_token);localStorage.setItem(\"email\",_email);localStorage.setItem(\"new_user\",res.data.new_user);// new_user: 0 (접속이력 2회 이상), 1(최초 접속)\nlocalStorage.setItem(\"toggle\",false);// 최초 로그인한 user만 toggle을 저장한다.\n//회원가입 성공\nsetOpen(true);window.location.href=\"/CreateEvent\";}if(res.error){if(res.error.type===1){alert(\"다시확인\");}if(res.error.type===2){alert(\"서버에러\");}if(res.error.type===3){alert(\"회원가입 실패\");}if(res.error.type===4){setError1(true);//이미 사용 중인 이메일 입니다. 다시 시도해 주세요.\n}}});}function closeIcon(param){//closeIcon 클릭시 해당 input의 state값을 \"\" 으로, error를 false\nif(param===\"email\"){setError1(false);setError2(false);setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{email:\"\"});});}if(param===\"name\"){setError3(false);setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{name:\"\"});});}}function eyeIcon(){//eyeIcon 클릭시 password input type을 password또는text로 바꿔줍니다\nsetPwVisibility(!pwvisibility);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(InputBox,{error1:error1,error2:error2,error3:error3,error4:error4,emailFilled:emailFilled,nameFilled:nameFilled,pwFilled:pwFilled},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"input\",{placeholder:\"\\uC774\\uBA54\\uC77C\",className:\"error correctEmail errorForEmail typingEmail\",name:\"email\",onChange:inputhandler,onKeyPress:btnRegister,value:state.email}),error1&&/*#__PURE__*/React.createElement(\"div\",{className:\"inputIcon\",onClick:function onClick(){return closeIcon(\"email\");}},/*#__PURE__*/React.createElement(Close,null)),error2&&emailFilled&&/*#__PURE__*/React.createElement(\"div\",{className:\"inputIcon\",onClick:function onClick(){return closeIcon(\"email\");}},/*#__PURE__*/React.createElement(Close,null))),error1&&/*#__PURE__*/React.createElement(\"div\",{className:\"emailError\"},\"\\uC774\\uBBF8 \\uC0AC\\uC6A9 \\uC911\\uC778 \\uC774\\uBA54\\uC77C \\uC785\\uB2C8\\uB2E4. \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574 \\uC8FC\\uC138\\uC694.\"),error2&&emailFilled&&/*#__PURE__*/React.createElement(\"div\",{className:\"emailError\"},\"\\uC0AC\\uC6A9\\uD560 \\uC218 \\uC5C6\\uB294 \\uC774\\uBA54\\uC77C \\uD615\\uC2DD\\uC785\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"\\uC774\\uB984\",className:\"error errorForName typingName\",name:\"name\",onChange:inputhandler,onKeyPress:btnRegister,value:state.name}),error3&&nameFilled&&/*#__PURE__*/React.createElement(\"div\",{className:\"inputIcon\",onClick:function onClick(){return closeIcon(\"name\");}},/*#__PURE__*/React.createElement(Close,null))),error3&&nameFilled&&/*#__PURE__*/React.createElement(\"div\",{className:\"nameError\"},\"\\uC22B\\uC790\\uB098 \\uD2B9\\uC218\\uBB38\\uC790( . \\uC81C\\uC678)\\uB294 \\uD3EC\\uD568\\uB420 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"password\"},/*#__PURE__*/React.createElement(\"input\",{placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 (8\\uAE00\\uC790 \\uC774\\uC0C1)\",type:pwvisibility?\"text\":\"password\",className:\"error errorForPw typingPw\",name:\"password\",onChange:inputhandler,onKeyPress:btnRegister,value:state.password}),pwFilled&&pwvisibility&&/*#__PURE__*/React.createElement(\"div\",{className:\"inputIcon\",onClick:eyeIcon},/*#__PURE__*/React.createElement(Visiblility,null)),pwFilled&&!pwvisibility&&/*#__PURE__*/React.createElement(\"div\",{className:\"inputIcon\",onClick:eyeIcon},/*#__PURE__*/React.createElement(VisibilityOff,null))),error4&&pwFilled&&/*#__PURE__*/React.createElement(\"div\",{className:\"passwordError\"},\"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 \\uCD5C\\uC18C 8\\uC790 \\uC774\\uC0C1\\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4.\")),/*#__PURE__*/React.createElement(FooterBox,{error4:error4,pwFilled:pwFilled},/*#__PURE__*/React.createElement(\"p\",null,\"\\uACC4\\uC18D \\uBC84\\uD2BC\\uC744 \\uD074\\uB9AD\\uD558\\uBA74 \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC57D\\uAD00 \\uBC0F \\uAC1C\\uC778 \\uC815\\uBCF4 \\uC815\\uCC45\\uC5D0 \\uB3D9\\uC758 \\uD558\\uB294 \\uAC83\\uC73C\\uB85C \\uAC04\\uC8FC\\uB429\\uB2C8\\uB2E4.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"terms\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"https://www.moduseller.com/terms-of-service\",target:\"_blank\"},\"\\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC57D\\uAD00\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"https://www.moduseller.com/privacy-policy\",target:\"_blank\"},\"\\uAC1C\\uC778 \\uC815\\uBCF4 \\uC815\\uCC45\"))),/*#__PURE__*/React.createElement(RegisterButton,{disabled:isRegisterBtnActive,onClick:btnRegister,button:isRegisterBtnActive},\"\\uACC4\\uC18D\"),/*#__PURE__*/React.createElement(Snackbar,{anchorOrigin:{vertical:\"\",horizontal:\"center\"},open:open,autoHideDuration:3000},/*#__PURE__*/React.createElement(SnackbarContent,{message:\"\".concat(state.name,\" \\uB2D8, \\uAC00\\uC785\\uC744 \\uD658\\uC601\\uD569\\uB2C8\\uB2E4 !\"),style:{backgroundColor:\"#757575\"}}))));}export default Register;var InputBox=styled.div(_templateObject(),function(_ref){var error1=_ref.error1;return error1&&\"border-bottom: 1px solid red\";},function(_ref2){var error2=_ref2.error2,emailFilled=_ref2.emailFilled;return error2&&emailFilled&&\"border-bottom: 1px solid red\";},function(_ref3){var error3=_ref3.error3,nameFilled=_ref3.nameFilled;return error3&&nameFilled&&\"border-bottom: 1px solid red\";},function(_ref4){var error4=_ref4.error4,pwFilled=_ref4.pwFilled;return error4&&pwFilled&&\"border-bottom: 1px solid red\";},function(_ref5){var emailFilled=_ref5.emailFilled,error1=_ref5.error1,error2=_ref5.error2;return emailFilled&&!error1&&!error2&&\"border-bottom: 1px solid #757575\";},function(_ref6){var nameFilled=_ref6.nameFilled,error3=_ref6.error3;return nameFilled&&!error3&&\"border-bottom: 1px solid #757575\";},function(_ref7){var error4=_ref7.error4,pwFilled=_ref7.pwFilled;return!error4&&pwFilled&&\"border-bottom: 1px solid #757575\";},function(_ref8){var error1=_ref8.error1,error2=_ref8.error2;return!error1&&!error2&&\"margin-top: 5%;\";},function(_ref9){var error1=_ref9.error1,emailFilled=_ref9.emailFilled;return error1&&emailFilled&&\"margin-top: 0.5%;\";},function(_ref10){var error2=_ref10.error2,emailFilled=_ref10.emailFilled;return error2&&emailFilled&&\"margin-top: 0.5%;\";},function(_ref11){var error3=_ref11.error3;return!error3&&\"margin-top: 5%;\";},function(_ref12){var error3=_ref12.error3,nameFilled=_ref12.nameFilled;return error3&&nameFilled&&\"margin-top: 0.5%;\";});var FooterBox=styled.div(_templateObject2(),function(_ref13){var error4=_ref13.error4;return!error4&&\"margin-top: 7%;\";},function(_ref14){var error4=_ref14.error4,pwFilled=_ref14.pwFilled;return error4&&!pwFilled&&\"margin-top: 7%;\";},function(_ref15){var error4=_ref15.error4,pwFilled=_ref15.pwFilled;return error4&&pwFilled&&\"margin-top: 2.8%;\";});var RegisterButton=styled.button(_templateObject3(),function(_ref16){var button=_ref16.button;return button?\"background: #bdbdbd;\":\"\\nbackground: #212121;\\n\";});","map":{"version":3,"sources":["/Users/merchsquare/Desktop/Kyle/sellist-partners_backup1(02.10)/src/Components/homeComponents/Register.js"],"names":["React","useState","styled","Snackbar","SnackbarContent","registerApi","TOKEN","Close","Visiblility","VisibilityOff","Register","pwvisibility","setPwVisibility","email","name","password","state","setState","error1","setError1","error2","setError2","error3","setError3","error4","setError4","open","setOpen","emailFilled","length","nameFilled","pwFilled","isRegisterBtnActive","regEmail","regName","regPassword","inputhandler","e","target","value","test","prevState","btnRegister","which","nativeEvent","type","getFetch","formData","FormData","append","fetch","method","headers","Authorization","body","then","res","json","success","data","access_token","localStorage","setItem","new_user","window","location","href","error","alert","closeIcon","param","eyeIcon","vertical","horizontal","backgroundColor","InputBox","div","FooterBox","RegisterButton","button"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Snackbar } from \"@material-ui/core\";\nimport { SnackbarContent } from \"@material-ui/core\";\nimport { registerApi, TOKEN } from \"../../Config/urls\";\nimport Close from \"../../Images/Close\";\nimport Visiblility from \"../../Images/Visibility\";\nimport VisibilityOff from \"../../Images/VisibilityOff\";\n\nfunction Register() {\n  const [pwvisibility, setPwVisibility] = useState(false); //eyeIcon 클릭시 password input type을 password또는text로 바꿔줍니다\n  const [state, setState] = useState({ email: \"\", name: \"\", password: \"\" });\n  const [error1, setError1] = useState(false); //이미 사용 중인 이메일 입니다. 다시 시도해 주세요. -email\n  const [error2, setError2] = useState(false); //사용할 수 없는 이메일 형식입니다. -email\n  const [error3, setError3] = useState(false); //숫자나 특수문자( . 제외)는 포함될 수 없습니다. -name\n  const [error4, setError4] = useState(false); //비밀번호는 최소 8자 이상이어야 합니다. -pw\n  const [open, setOpen] = useState(false); //open === true 일때 snackbar가 열립니다\n\n  const emailFilled = state.email.length > 0;\n  const nameFilled = state.name.length > 0;\n  const pwFilled = state.password.length > 0;\n  const isRegisterBtnActive = !(\n    state.name.length > 0 &&\n    state.email.length > 0 &&\n    state.password.length > 0\n  );\n\n  const regEmail =\n    \"/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i\";\n  const regName = \"/^[ㄱ-ㅎ|가-힣|a-z|A-Z|.| |*]+$/\"; //숫자나 특수문자( . 제외)는 포함될 수 없습니다.\n  const regPassword = \"/^[a-zA-Z0-9!@#$%^&*)(+=._-]{8,}$/\"; //영문대소문,숫자,특수문자,최소8자\n\n  function inputhandler(e) {\n    const { name, value } = e.target;\n    setError1(false);\n    if (name === \"email\" && regEmail.test(value)) {\n      setError2(false);\n    }\n    if (name === \"name\" && regName.test(value)) {\n      setError3(false);\n    }\n    if (name === \"password\" && regPassword.test(value)) {\n      setError4(false);\n    }\n    setState(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  }\n\n  function btnRegister(e) {\n    if (e.which === 13 || e.nativeEvent.type === \"click\") {\n      const { email, name, password } = state;\n      if (!regEmail.test(email)) {\n        setError2(true);\n      }\n      if (!regName.test(name)) {\n        setError3(true);\n      }\n      if (!regPassword.test(password)) {\n        setError4(true);\n      }\n      if (\n        regEmail.test(email) &&\n        regName.test(name) &&\n        regPassword.test(password)\n      ) {\n        getFetch();\n      }\n    }\n  }\n\n  function getFetch() {\n    const { email, name, password } = state;\n    const formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"name\", name);\n    formData.append(\"password\", password);\n\n    fetch(registerApi, {\n      method: \"post\",\n      headers: {\n        Authorization: TOKEN\n      },\n      body: formData\n    })\n      .then(res => res.json())\n      .then(res => {\n        if (res.success) {\n          const { email, access_token } = res.data;\n          localStorage.setItem(\"access_token\", access_token);\n          localStorage.setItem(\"email\", email);\n          localStorage.setItem(\"new_user\", res.data.new_user); // new_user: 0 (접속이력 2회 이상), 1(최초 접속)\n          localStorage.setItem(\"toggle\", false); // 최초 로그인한 user만 toggle을 저장한다.\n          //회원가입 성공\n          setOpen(true);\n          window.location.href = \"/CreateEvent\";\n        }\n        if (res.error) {\n          if (res.error.type === 1) {\n            alert(\"다시확인\");\n          }\n          if (res.error.type === 2) {\n            alert(\"서버에러\");\n          }\n          if (res.error.type === 3) {\n            alert(\"회원가입 실패\");\n          }\n          if (res.error.type === 4) {\n            setError1(true); //이미 사용 중인 이메일 입니다. 다시 시도해 주세요.\n          }\n        }\n      });\n  }\n\n  function closeIcon(param) {\n    //closeIcon 클릭시 해당 input의 state값을 \"\" 으로, error를 false\n    if (param === \"email\") {\n      setError1(false);\n      setError2(false);\n      setState(prevState => ({\n        ...prevState,\n        email: \"\"\n      }));\n    }\n    if (param === \"name\") {\n      setError3(false);\n      setState(prevState => ({\n        ...prevState,\n        name: \"\"\n      }));\n    }\n  }\n\n  function eyeIcon() {\n    //eyeIcon 클릭시 password input type을 password또는text로 바꿔줍니다\n    setPwVisibility(!pwvisibility);\n  }\n\n  return (\n    <>\n      <InputBox\n        error1={error1}\n        error2={error2}\n        error3={error3}\n        error4={error4}\n        emailFilled={emailFilled}\n        nameFilled={nameFilled}\n        pwFilled={pwFilled}\n      >\n        <div>\n          <input\n            placeholder=\"이메일\"\n            className=\"error correctEmail errorForEmail typingEmail\"\n            name=\"email\"\n            onChange={inputhandler}\n            onKeyPress={btnRegister}\n            value={state.email}\n          />\n          {error1 && (\n            <div className=\"inputIcon\" onClick={() => closeIcon(\"email\")}>\n              <Close />\n            </div>\n          )}\n          {error2 && emailFilled && (\n            <div className=\"inputIcon\" onClick={() => closeIcon(\"email\")}>\n              <Close />\n            </div>\n          )}\n        </div>\n        {error1 && (\n          <div className=\"emailError\">\n            이미 사용 중인 이메일 입니다. 다시 시도해 주세요.\n          </div>\n        )}\n        {error2 && emailFilled && (\n          <div className=\"emailError\">사용할 수 없는 이메일 형식입니다.</div>\n        )}\n        <div className=\"name\">\n          <input\n            placeholder=\"이름\"\n            className=\"error errorForName typingName\"\n            name=\"name\"\n            onChange={inputhandler}\n            onKeyPress={btnRegister}\n            value={state.name}\n          />\n          {error3 && nameFilled && (\n            <div className=\"inputIcon\" onClick={() => closeIcon(\"name\")}>\n              <Close />\n            </div>\n          )}\n        </div>\n        {error3 && nameFilled && (\n          <div className=\"nameError\">\n            숫자나 특수문자( . 제외)는 포함될 수 없습니다.\n          </div>\n        )}\n        <div className=\"password\">\n          <input\n            placeholder=\"비밀번호 (8글자 이상)\"\n            type={pwvisibility ? \"text\" : \"password\"}\n            className=\"error errorForPw typingPw\"\n            name=\"password\"\n            onChange={inputhandler}\n            onKeyPress={btnRegister}\n            value={state.password}\n          />\n          {pwFilled && pwvisibility && (\n            <div className=\"inputIcon\" onClick={eyeIcon}>\n              <Visiblility />\n            </div>\n          )}\n          {pwFilled && !pwvisibility && (\n            <div className=\"inputIcon\" onClick={eyeIcon}>\n              <VisibilityOff />\n            </div>\n          )}\n        </div>\n        {error4 && pwFilled && (\n          <div className=\"passwordError\">\n            비밀번호는 최소 8자 이상이어야 합니다.\n          </div>\n        )}\n      </InputBox>\n      <FooterBox error4={error4} pwFilled={pwFilled}>\n        <p>\n          계속 버튼을 클릭하면 서비스 이용약관 및 개인 정보 정책에 동의 하는\n          것으로 간주됩니다.\n        </p>\n        <div className=\"terms\">\n          <div>\n            <a\n              href=\"https://www.moduseller.com/terms-of-service\"\n              target=\"_blank\"\n            >\n              서비스 이용약관\n            </a>\n          </div>\n          <div>\n            <a href=\"https://www.moduseller.com/privacy-policy\" target=\"_blank\">\n              개인 정보 정책\n            </a>\n          </div>\n        </div>\n        <RegisterButton\n          disabled={isRegisterBtnActive}\n          onClick={btnRegister}\n          button={isRegisterBtnActive}\n        >\n          계속\n        </RegisterButton>\n\n        <Snackbar\n          anchorOrigin={{\n            vertical: \"\",\n            horizontal: \"center\"\n          }}\n          open={open}\n          autoHideDuration={3000}\n        >\n          <SnackbarContent\n            message={`${state.name} 님, 가입을 환영합니다 !`}\n            style={{\n              backgroundColor: \"#757575\"\n            }}\n          />\n        </Snackbar>\n      </FooterBox>\n    </>\n  );\n}\nexport default Register;\n\nconst InputBox = styled.div`\n  margin-top: 10%;\n  display: flex;\n  flex-direction: column;\n  padding-right: 16px;\n  padding-left: 16px;\n\n  div {\n    width: 100%;\n    position: relative;\n\n    input {\n      padding: 13px;\n      width: 100%;\n      height: 56px;\n      background: white;\n      font-size: 16px;\n    }\n\n    .errorForEmail {\n      ${({ error1 }) => error1 && `border-bottom: 1px solid red`}\n      ${({ error2, emailFilled }) =>\n        error2 && emailFilled && `border-bottom: 1px solid red`}\n    }\n\n    .errorForName {\n      ${({ error3, nameFilled }) =>\n        error3 && nameFilled && `border-bottom: 1px solid red`}\n    }\n\n    .errorForPw {\n      ${({ error4, pwFilled }) =>\n        error4 && pwFilled && `border-bottom: 1px solid red`}\n    }\n    .typingEmail {\n      ${({ emailFilled, error1, error2 }) =>\n        emailFilled && !error1 && !error2 && `border-bottom: 1px solid #757575`}\n    }\n\n    .typingName {\n      ${({ nameFilled, error3 }) =>\n        nameFilled && !error3 && `border-bottom: 1px solid #757575`}\n    }\n\n    .typingPw {\n      ${({ error4, pwFilled }) =>\n        !error4 && pwFilled && `border-bottom: 1px solid #757575`}\n    }\n    .inputIcon {\n      left: 88%;\n      bottom: 5%;\n      position: absolute;\n    }\n  }\n\n  .emailError,\n  .nameError,\n  .passwordError {\n    font-size: 13px;\n    color: #e64a19;\n    left: 2%;\n  }\n\n  .name {\n    ${({ error1, error2 }) => !error1 && !error2 && `margin-top: 5%;`}\n    ${({ error1, emailFilled }) => error1 && emailFilled && `margin-top: 0.5%;`}\n    ${({ error2, emailFilled }) => error2 && emailFilled && `margin-top: 0.5%;`}\n  }\n\n  .password {\n    ${({ error3 }) => !error3 && `margin-top: 5%;`}\n    ${({ error3, nameFilled }) => error3 && nameFilled && `margin-top: 0.5%;`}\n  }\n`;\n\nconst FooterBox = styled.div`\n  ${({ error4 }) => !error4 && `margin-top: 7%;`}\n  ${({ error4, pwFilled }) => error4 && !pwFilled && `margin-top: 7%;`}\n  ${({ error4, pwFilled }) => error4 && pwFilled && `margin-top: 2.8%;`}\n  display: flex;\n  flex-direction: column;\n  padding-right: 16px;\n  padding-left: 16px;\n\n  p {\n    height: 10px;\n    font-size: 14px;\n    text-align: center;\n    color: #424242;\n    margin-bottom: 30px;\n  }\n  div {\n    cursor: pointer;\n  }\n  .terms {\n    margin-top: 5%;\n    display: flex;\n    justify-content: space-evenly;\n    font-weight: bold;\n    font-size: 12px;\n    line-height: 14px;\n    letter-spacing: 0.08em;\n  }\n  div {\n    font-size: 12px;\n    line-height: 10px;\n    font-weight: bold;\n    color: #212121;\n  }\n`;\n\nconst RegisterButton = styled.button`\n  margin-top: 10%;\n  height: 48px;\n  border-radius: 4px;\n  font-weight: bold;\n  font-size: 14px;\n  text-align: center;\n  letter-spacing: 0.08em;\n  color: #ffffff;\n  cursor: pointer;\n  ${({ button }) =>\n    button\n      ? `background: #bdbdbd;`\n      : `\nbackground: #212121;\n`};\n`;\n"]},"metadata":{},"sourceType":"module"}